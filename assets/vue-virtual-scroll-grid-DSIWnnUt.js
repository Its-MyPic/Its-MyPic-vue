import{k as ot,r as X,A as at,c as ke,w as pn,B as ct,C as st,D as ne,E as Ve,F as We,G as De,H as ye,I as Ge,J as Ye,K as ft,L as me,M as lt,l as hn,N as vn,O as dt,g as pt,o as ht,u as vt}from"./@vue-D9bH4lrz.js";var Ee=function(e,n){return Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Ee(e,n)};function A(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Ee(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function yt(e,n,t,r){function i(u){return u instanceof t?u:new t(function(o){o(u)})}return new(t||(t=Promise))(function(u,o){function a(f){try{s(r.next(f))}catch(d){o(d)}}function c(f){try{s(r.throw(f))}catch(d){o(d)}}function s(f){f.done?u(f.value):i(f.value).then(a,c)}s((r=r.apply(e,[])).next())})}function yn(e,n){var t={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,i,u,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(s){return function(f){return c([s,f])}}function c(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(t=0)),t;)try{if(r=1,i&&(u=s[0]&2?i.return:s[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,s[1])).done)return u;switch(i=0,u&&(s=[s[0]&2,u.value]),s[0]){case 0:case 1:u=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,i=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(u=t.trys,!(u=u.length>0&&u[u.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!u||s[1]>u[0]&&s[1]<u[3])){t.label=s[1];break}if(s[0]===6&&t.label<u[1]){t.label=u[1],u=s;break}if(u&&t.label<u[2]){t.label=u[2],t.ops.push(s);break}u[2]&&t.ops.pop(),t.trys.pop();continue}s=n.call(e,t)}catch(f){s=[6,f],i=0}finally{r=u=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function U(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),i,u=[],o;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return u}function j(e,n,t){if(arguments.length===2)for(var r=0,i=n.length,u;r<i;r++)(u||!(r in n))&&(u||(u=Array.prototype.slice.call(n,0,r)),u[r]=n[r]);return e.concat(u||Array.prototype.slice.call(n))}function L(e){return this instanceof L?(this.v=e,this):new L(e)}function mt(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,u=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(l){r[l]&&(i[l]=function(p){return new Promise(function(y,h){u.push([l,p,y,h])>1||a(l,p)})})}function a(l,p){try{c(r[l](p))}catch(y){d(u[0][3],y)}}function c(l){l.value instanceof L?Promise.resolve(l.value.v).then(s,f):d(u[0][2],l)}function s(l){a("next",l)}function f(l){a("throw",l)}function d(l,p){l(p),u.shift(),u.length&&a(u[0][0],u[0][1])}}function gt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof U=="function"?U(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(u){t[u]=e[u]&&function(o){return new Promise(function(a,c){o=e[u](o),i(a,c,o.done,o.value)})}}function i(u,o,a,c){Promise.resolve(c).then(function(s){u({value:s,done:a})},o)}}function b(e){return typeof e=="function"}function mn(e){var n=function(r){Error.call(r),r.stack=new Error().stack},t=e(n);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ge=mn(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function oe(e,n){if(e){var t=e.indexOf(n);0<=t&&e.splice(t,1)}}var V=function(){function e(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var n,t,r,i,u;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=U(o),c=a.next();!c.done;c=a.next()){var s=c.value;s.remove(this)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(n)throw n.error}}else o.remove(this);var f=this.initialTeardown;if(b(f))try{f()}catch(h){u=h instanceof ge?h.errors:[h]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var l=U(d),p=l.next();!p.done;p=l.next()){var y=p.value;try{He(y)}catch(h){u=u??[],h instanceof ge?u=j(j([],x(u)),x(h.errors)):u.push(h)}}}catch(h){r={error:h}}finally{try{p&&!p.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}if(u)throw new ge(u)}},e.prototype.add=function(n){var t;if(n&&n!==this)if(this.closed)He(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}},e.prototype._hasParent=function(n){var t=this._parentage;return t===n||Array.isArray(t)&&t.includes(n)},e.prototype._addParent=function(n){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n},e.prototype._removeParent=function(n){var t=this._parentage;t===n?this._parentage=null:Array.isArray(t)&&oe(t,n)},e.prototype.remove=function(n){var t=this._finalizers;t&&oe(t,n),n instanceof e&&n._removeParent(this)},e.EMPTY=function(){var n=new e;return n.closed=!0,n}(),e}(),gn=V.EMPTY;function bn(e){return e instanceof V||e&&"closed"in e&&b(e.remove)&&b(e.add)&&b(e.unsubscribe)}function He(e){b(e)?e():e.unsubscribe()}var bt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},wt={setTimeout:function(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return setTimeout.apply(void 0,j([e,n],x(t)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function wn(e){wt.setTimeout(function(){throw e})}function Pe(){}function ie(e){e()}var Fe=function(e){A(n,e);function n(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,bn(t)&&t.add(r)):r.destination=At,r}return n.create=function(t,r,i){return new Z(t,r,i)},n.prototype.next=function(t){this.isStopped||this._next(t)},n.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(V),St=function(){function e(n){this.partialObserver=n}return e.prototype.next=function(n){var t=this.partialObserver;if(t.next)try{t.next(n)}catch(r){te(r)}},e.prototype.error=function(n){var t=this.partialObserver;if(t.error)try{t.error(n)}catch(r){te(r)}else te(n)},e.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(t){te(t)}},e}(),Z=function(e){A(n,e);function n(t,r,i){var u=e.call(this)||this,o;return b(t)||!t?o={next:t??void 0,error:r??void 0,complete:i??void 0}:o=t,u.destination=new St(o),u}return n}(Fe);function te(e){wn(e)}function _t(e){throw e}var At={closed:!0,next:Pe,error:_t,complete:Pe},Re=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function W(e){return e}function Ot(e){return e.length===0?W:e.length===1?e[0]:function(t){return e.reduce(function(r,i){return i(r)},t)}}var w=function(){function e(n){n&&(this._subscribe=n)}return e.prototype.lift=function(n){var t=new e;return t.source=this,t.operator=n,t},e.prototype.subscribe=function(n,t,r){var i=this,u=Et(n)?n:new Z(n,t,r);return ie(function(){var o=i,a=o.operator,c=o.source;u.add(a?a.call(u,c):c?i._subscribe(u):i._trySubscribe(u))}),u},e.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(t){n.error(t)}},e.prototype.forEach=function(n,t){var r=this;return t=Ke(t),new t(function(i,u){var o=new Z({next:function(a){try{n(a)}catch(c){u(c),o.unsubscribe()}},error:u,complete:i});r.subscribe(o)})},e.prototype._subscribe=function(n){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(n)},e.prototype[Re]=function(){return this},e.prototype.pipe=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Ot(n)(this)},e.prototype.toPromise=function(n){var t=this;return n=Ke(n),new n(function(r,i){var u;t.subscribe(function(o){return u=o},function(o){return i(o)},function(){return r(u)})})},e.create=function(n){return new e(n)},e}();function Ke(e){var n;return(n=e??bt.Promise)!==null&&n!==void 0?n:Promise}function It(e){return e&&b(e.next)&&b(e.error)&&b(e.complete)}function Et(e){return e&&e instanceof Fe||It(e)&&bn(e)}function Pt(e){return b(e==null?void 0:e.lift)}function O(e){return function(n){if(Pt(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _(e,n,t,r,i){return new xt(e,n,t,r,i)}var xt=function(e){A(n,e);function n(t,r,i,u,o,a){var c=e.call(this,t)||this;return c.onFinalize=o,c.shouldUnsubscribe=a,c._next=r?function(s){try{r(s)}catch(f){t.error(f)}}:e.prototype._next,c._error=u?function(s){try{u(s)}catch(f){t.error(f)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=i?function(){try{i()}catch(s){t.error(s)}finally{this.unsubscribe()}}:e.prototype._complete,c}return n.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},n}(Fe),xe={schedule:function(e){var n=requestAnimationFrame,t=cancelAnimationFrame,r=n(function(i){t=void 0,e(i)});return new V(function(){return t==null?void 0:t(r)})},requestAnimationFrame:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=xe.delegate;return((t==null?void 0:t.requestAnimationFrame)||requestAnimationFrame).apply(void 0,j([],x(e)))},cancelAnimationFrame:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return cancelAnimationFrame.apply(void 0,j([],x(e)))},delegate:void 0},jt=mn(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),le=function(e){A(n,e);function n(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return n.prototype.lift=function(t){var r=new Xe(this,this);return r.operator=t,r},n.prototype._throwIfClosed=function(){if(this.closed)throw new jt},n.prototype.next=function(t){var r=this;ie(function(){var i,u;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=U(r.currentObservers),a=o.next();!a.done;a=o.next()){var c=a.value;c.next(t)}}catch(s){i={error:s}}finally{try{a&&!a.done&&(u=o.return)&&u.call(o)}finally{if(i)throw i.error}}}})},n.prototype.error=function(t){var r=this;ie(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=t;for(var i=r.observers;i.length;)i.shift().error(t)}})},n.prototype.complete=function(){var t=this;ie(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var r=t.observers;r.length;)r.shift().complete()}})},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},n.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},n.prototype._innerSubscribe=function(t){var r=this,i=this,u=i.hasError,o=i.isStopped,a=i.observers;return u||o?gn:(this.currentObservers=null,a.push(t),new V(function(){r.currentObservers=null,oe(a,t)}))},n.prototype._checkFinalizedStatuses=function(t){var r=this,i=r.hasError,u=r.thrownError,o=r.isStopped;i?t.error(u):o&&t.complete()},n.prototype.asObservable=function(){var t=new w;return t.source=this,t},n.create=function(t,r){return new Xe(t,r)},n}(w),Xe=function(e){A(n,e);function n(t,r){var i=e.call(this)||this;return i.destination=t,i.source=r,i}return n.prototype.next=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,t)},n.prototype.error=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,t)},n.prototype.complete=function(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)},n.prototype._subscribe=function(t){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&i!==void 0?i:gn},n}(le),qe={now:function(){return(qe.delegate||Date).now()},delegate:void 0},$t=function(e){A(n,e);function n(t,r,i){t===void 0&&(t=1/0),r===void 0&&(r=1/0),i===void 0&&(i=qe);var u=e.call(this)||this;return u._bufferSize=t,u._windowTime=r,u._timestampProvider=i,u._buffer=[],u._infiniteTimeWindow=!0,u._infiniteTimeWindow=r===1/0,u._bufferSize=Math.max(1,t),u._windowTime=Math.max(1,r),u}return n.prototype.next=function(t){var r=this,i=r.isStopped,u=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;i||(u.push(t),!o&&u.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,t)},n.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(t),i=this,u=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),c=0;c<a.length&&!t.closed;c+=u?1:2)t.next(a[c]);return this._checkFinalizedStatuses(t),r},n.prototype._trimBuffer=function(){var t=this,r=t._bufferSize,i=t._timestampProvider,u=t._buffer,o=t._infiniteTimeWindow,a=(o?1:2)*r;if(r<1/0&&a<u.length&&u.splice(0,u.length-a),!o){for(var c=i.now(),s=0,f=1;f<u.length&&u[f]<=c;f+=2)s=f;s&&u.splice(0,s+1)}},n}(le),Tt=function(e){A(n,e);function n(t,r){return e.call(this)||this}return n.prototype.schedule=function(t,r){return this},n}(V),Ze={setInterval:function(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return setInterval.apply(void 0,j([e,n],x(t)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},Sn=function(e){A(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.pending=!1,i}return n.prototype.schedule=function(t,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=t;var u=this.id,o=this.scheduler;return u!=null&&(this.id=this.recycleAsyncId(o,u,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,r),this},n.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),Ze.setInterval(t.flush.bind(t,this),i)},n.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&Ze.clearInterval(r)},n.prototype.execute=function(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(t,r){var i=!1,u;try{this.work(t)}catch(o){i=!0,u=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),u},n.prototype.unsubscribe=function(){if(!this.closed){var t=this,r=t.id,i=t.scheduler,u=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,oe(u,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},n}(Tt),Je=function(){function e(n,t){t===void 0&&(t=e.now),this.schedulerActionCtor=n,this.now=t}return e.prototype.schedule=function(n,t,r){return t===void 0&&(t=0),new this.schedulerActionCtor(this,n).schedule(r,t)},e.now=qe.now,e}(),_n=function(e){A(n,e);function n(t,r){r===void 0&&(r=Je.now);var i=e.call(this,t,r)||this;return i.actions=[],i._active=!1,i}return n.prototype.flush=function(t){var r=this.actions;if(this._active){r.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=r.shift());if(this._active=!1,i){for(;t=r.shift();)t.unsubscribe();throw i}},n}(Je),Mt=new _n(Sn),Ct=function(e){A(n,e);function n(t,r){var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i}return n.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,t,r,i):(t.actions.push(this),t._scheduled||(t._scheduled=xe.requestAnimationFrame(function(){return t.flush(void 0)})))},n.prototype.recycleAsyncId=function(t,r,i){var u;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,i);var o=t.actions;r!=null&&((u=o[o.length-1])===null||u===void 0?void 0:u.id)!==r&&(xe.cancelAnimationFrame(r),t._scheduled=void 0)},n}(Sn),kt=function(e){A(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.flush=function(t){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,u;t=t||i.shift();do if(u=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===r&&i.shift());if(this._active=!1,u){for(;(t=i[0])&&t.id===r&&i.shift();)t.unsubscribe();throw u}},n}(_n),Ft=new kt(Ct),An=new w(function(e){return e.complete()});function Rt(e){return e&&b(e.schedule)}function ze(e){return e[e.length-1]}function On(e){return b(ze(e))?e.pop():void 0}function In(e){return Rt(ze(e))?e.pop():void 0}function qt(e,n){return typeof ze(e)=="number"?e.pop():n}var En=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Pn(e){return b(e==null?void 0:e.then)}function xn(e){return b(e[Re])}function jn(e){return Symbol.asyncIterator&&b(e==null?void 0:e[Symbol.asyncIterator])}function $n(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function zt(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Tn=zt();function Mn(e){return b(e==null?void 0:e[Tn])}function Cn(e){return mt(this,arguments,function(){var t,r,i,u;return yn(this,function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,L(t.read())];case 3:return r=o.sent(),i=r.value,u=r.done,u?[4,L(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,L(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function kn(e){return b(e==null?void 0:e.getReader)}function $(e){if(e instanceof w)return e;if(e!=null){if(xn(e))return Bt(e);if(En(e))return Lt(e);if(Pn(e))return Ut(e);if(jn(e))return Fn(e);if(Mn(e))return Nt(e);if(kn(e))return Vt(e)}throw $n(e)}function Bt(e){return new w(function(n){var t=e[Re]();if(b(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Lt(e){return new w(function(n){for(var t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function Ut(e){return new w(function(n){e.then(function(t){n.closed||(n.next(t),n.complete())},function(t){return n.error(t)}).then(null,wn)})}function Nt(e){return new w(function(n){var t,r;try{for(var i=U(e),u=i.next();!u.done;u=i.next()){var o=u.value;if(n.next(o),n.closed)return}}catch(a){t={error:a}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}n.complete()})}function Fn(e){return new w(function(n){Wt(e,n).catch(function(t){return n.error(t)})})}function Vt(e){return Fn(Cn(e))}function Wt(e,n){var t,r,i,u;return yt(this,void 0,void 0,function(){var o,a;return yn(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),t=gt(e),c.label=1;case 1:return[4,t.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(o=r.value,n.next(o),n.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(u=t.return)?[4,u.call(t)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}})})}function F(e,n,t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var u=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(u),!i)return u}function Rn(e,n){return n===void 0&&(n=0),O(function(t,r){t.subscribe(_(r,function(i){return F(r,e,function(){return r.next(i)},n)},function(){return F(r,e,function(){return r.complete()},n)},function(i){return F(r,e,function(){return r.error(i)},n)}))})}function qn(e,n){return n===void 0&&(n=0),O(function(t,r){r.add(e.schedule(function(){return t.subscribe(r)},n))})}function Dt(e,n){return $(e).pipe(qn(n),Rn(n))}function Gt(e,n){return $(e).pipe(qn(n),Rn(n))}function Yt(e,n){return new w(function(t){var r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function Ht(e,n){return new w(function(t){var r;return F(t,n,function(){r=e[Tn](),F(t,n,function(){var i,u,o;try{i=r.next(),u=i.value,o=i.done}catch(a){t.error(a);return}o?t.complete():t.next(u)},0,!0)}),function(){return b(r==null?void 0:r.return)&&r.return()}})}function zn(e,n){if(!e)throw new Error("Iterable cannot be null");return new w(function(t){F(t,n,function(){var r=e[Symbol.asyncIterator]();F(t,n,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function Kt(e,n){return zn(Cn(e),n)}function Bn(e,n){if(e!=null){if(xn(e))return Dt(e,n);if(En(e))return Yt(e,n);if(Pn(e))return Gt(e,n);if(jn(e))return zn(e,n);if(Mn(e))return Ht(e,n);if(kn(e))return Kt(e,n)}throw $n(e)}function Be(e,n){return n?Bn(e,n):$(e)}function R(e,n){return O(function(t,r){var i=0;t.subscribe(_(r,function(u){r.next(e.call(n,u,i++))}))})}var Xt=Array.isArray;function Zt(e,n){return Xt(n)?e.apply(void 0,j([],x(n))):e(n)}function Jt(e){return R(function(n){return Zt(e,n)})}var Qt=Array.isArray,er=Object.getPrototypeOf,nr=Object.prototype,tr=Object.keys;function rr(e){if(e.length===1){var n=e[0];if(Qt(n))return{args:n,keys:null};if(ir(n)){var t=tr(n);return{args:t.map(function(r){return n[r]}),keys:t}}}return{args:e,keys:null}}function ir(e){return e&&typeof e=="object"&&er(e)===nr}function ur(e,n){return e.reduce(function(t,r,i){return t[r]=n[i],t},{})}function k(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=In(e),r=On(e),i=rr(e),u=i.args,o=i.keys;if(u.length===0)return Be([],t);var a=new w(or(u,t,o?function(c){return ur(o,c)}:W));return r?a.pipe(Jt(r)):a}function or(e,n,t){return t===void 0&&(t=W),function(r){Qe(n,function(){for(var i=e.length,u=new Array(i),o=i,a=i,c=function(f){Qe(n,function(){var d=Be(e[f],n),l=!1;d.subscribe(_(r,function(p){u[f]=p,l||(l=!0,a--),a||r.next(t(u.slice()))},function(){--o||r.complete()}))},r)},s=0;s<i;s++)c(s)},r)}}function Qe(e,n,t){e?F(t,e,n):n()}function ar(e,n,t,r,i,u,o,a){var c=[],s=0,f=0,d=!1,l=function(){d&&!c.length&&!s&&n.complete()},p=function(h){return s<r?y(h):c.push(h)},y=function(h){s++;var I=!1;$(t(h,f++)).subscribe(_(n,function(S){n.next(S)},function(){I=!0},void 0,function(){if(I)try{s--;for(var S=function(){var C=c.shift();o||y(C)};c.length&&s<r;)S();l()}catch(C){n.error(C)}}))};return e.subscribe(_(n,p,function(){d=!0,l()})),function(){}}function ae(e,n,t){return t===void 0&&(t=1/0),b(n)?ae(function(r,i){return R(function(u,o){return n(r,u,i,o)})($(e(r,i)))},t):(typeof n=="number"&&(t=n),O(function(r,i){return ar(r,i,e,t)}))}function Ln(e){return e===void 0&&(e=1/0),ae(W,e)}function cr(e,n,t){return new w(function(r){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return r.next(o.length===1?o[0]:o)},u=e(i);return b(n)?function(){return n(i,u)}:void 0})}function sr(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=In(e),r=qt(e,1/0),i=e;return i.length?i.length===1?$(i[0]):Ln(r)(Be(i,t)):An}function fr(e,n){return O(function(t,r){var i=0;t.subscribe(_(r,function(u){return e.call(n,u,i++)&&r.next(u)}))})}function lr(e,n,t){if(n==null&&(n=e,e=0),n<=0)return An;var r=n+e;return new w(function(i){for(var u=e;u<r&&!i.closed;)i.next(u++);i.complete()})}function dr(e,n,t,r,i){return function(u,o){var a=t,c=n,s=0;u.subscribe(_(o,function(f){var d=s++;c=a?e(c,f,d):(a=!0,f),o.next(c)},i))}}function pr(e,n){return n===void 0&&(n=Mt),O(function(t,r){var i=null,u=null,o=null,a=function(){if(i){i.unsubscribe(),i=null;var s=u;u=null,r.next(s)}};function c(){var s=o+e,f=n.now();if(f<s){i=this.schedule(void 0,s-f),r.add(i);return}a()}t.subscribe(_(r,function(s){u=s,o=n.now(),i||(i=n.schedule(c,e),r.add(i))},function(){a(),r.complete()},void 0,function(){u=i=null}))})}function be(e,n){return n===void 0&&(n=W),e=e??hr,O(function(t,r){var i,u=!0;t.subscribe(_(r,function(o){var a=n(o);(u||!e(i,a))&&(u=!1,i=a,r.next(o))}))})}function hr(e,n){return e===n}function en(e,n){return O(dr(e,n,arguments.length>=2,!0))}function vr(e){e===void 0&&(e={});var n=e.connector,t=n===void 0?function(){return new le}:n,r=e.resetOnError,i=r===void 0?!0:r,u=e.resetOnComplete,o=u===void 0?!0:u,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(s){var f,d,l,p=0,y=!1,h=!1,I=function(){d==null||d.unsubscribe(),d=void 0},S=function(){I(),f=l=void 0,y=h=!1},C=function(){var T=f;S(),T==null||T.unsubscribe()};return O(function(T,z){p++,!h&&!y&&I();var M=l=l??t();z.add(function(){p--,p===0&&!h&&!y&&(d=we(C,c))}),M.subscribe(z),!f&&p>0&&(f=new Z({next:function(D){return M.next(D)},error:function(D){h=!0,I(),d=we(S,i,D),M.error(D)},complete:function(){y=!0,I(),d=we(S,o),M.complete()}}),$(T).subscribe(f))})(s)}}function we(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(n===!0){e();return}if(n!==!1){var i=new Z({next:function(){i.unsubscribe(),e()}});return $(n.apply(void 0,j([],x(t)))).subscribe(i)}}function H(e,n,t){var r,i=!1;return r=e,vr({connector:function(){return new $t(r,n,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Se(e,n){return O(function(t,r){var i=null,u=0,o=!1,a=function(){return o&&!i&&r.complete()};t.subscribe(_(r,function(c){i==null||i.unsubscribe();var s=0,f=u++;$(e(c,f)).subscribe(i=_(r,function(d){return r.next(n?n(c,d,f,s++):d)},function(){i=null,a()}))},function(){o=!0,a()}))})}function yr(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=On(e);return O(function(r,i){for(var u=e.length,o=new Array(u),a=e.map(function(){return!1}),c=!1,s=function(d){$(e[d]).subscribe(_(i,function(l){o[d]=l,!c&&!a[d]&&(a[d]=!0,(c=a.every(W))&&(a=null))},Pe))},f=0;f<u;f++)s(f);r.subscribe(_(i,function(d){if(c){var l=j([d],x(o));i.next(t?t.apply(void 0,j([],x(l))):l)}}))})}const Un={"@@functional/placeholder":!0};function v(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function g(e){return function n(t){return arguments.length===0||v(t)?n:e.apply(this,arguments)}}function m(e){return function n(t,r){switch(arguments.length){case 0:return n;case 1:return v(t)?n:g(function(i){return e(t,i)});default:return v(t)&&v(r)?n:v(t)?g(function(i){return e(i,r)}):v(r)?g(function(i){return e(t,i)}):e(t,r)}}}function Le(e,n){e=e||[],n=n||[];var t,r=e.length,i=n.length,u=[];for(t=0;t<r;)u[u.length]=e[t],t+=1;for(t=0;t<i;)u[u.length]=n[t],t+=1;return u}function q(e,n){switch(e){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,r){return n.apply(this,arguments)};case 3:return function(t,r,i){return n.apply(this,arguments)};case 4:return function(t,r,i,u){return n.apply(this,arguments)};case 5:return function(t,r,i,u,o){return n.apply(this,arguments)};case 6:return function(t,r,i,u,o,a){return n.apply(this,arguments)};case 7:return function(t,r,i,u,o,a,c){return n.apply(this,arguments)};case 8:return function(t,r,i,u,o,a,c,s){return n.apply(this,arguments)};case 9:return function(t,r,i,u,o,a,c,s,f){return n.apply(this,arguments)};case 10:return function(t,r,i,u,o,a,c,s,f,d){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Nn(e,n,t){return function(){for(var r=[],i=0,u=e,o=0,a=!1;o<n.length||i<arguments.length;){var c;o<n.length&&(!v(n[o])||i>=arguments.length)?c=n[o]:(c=arguments[i],i+=1),r[o]=c,v(c)?a=!0:u-=1,o+=1}return!a&&u<=0?t.apply(this,r):q(Math.max(0,u),Nn(e,r,t))}}var mr=m(function(n,t){return n===1?g(t):q(n,Nn(n,[],t))});const ce=mr;var gr=g(function(n){return ce(n.length,function(){var t=0,r=arguments[0],i=arguments[arguments.length-1],u=Array.prototype.slice.call(arguments,0);return u[0]=function(){var o=r.apply(this,Le(arguments,[t,i]));return t+=1,o},n.apply(this,u)})});const br=gr;function de(e){return function n(t,r,i){switch(arguments.length){case 0:return n;case 1:return v(t)?n:m(function(u,o){return e(t,u,o)});case 2:return v(t)&&v(r)?n:v(t)?m(function(u,o){return e(u,r,o)}):v(r)?m(function(u,o){return e(t,u,o)}):g(function(u){return e(t,r,u)});default:return v(t)&&v(r)&&v(i)?n:v(t)&&v(r)?m(function(u,o){return e(u,o,i)}):v(t)&&v(i)?m(function(u,o){return e(u,r,o)}):v(r)&&v(i)?m(function(u,o){return e(t,u,o)}):v(t)?g(function(u){return e(u,r,i)}):v(r)?g(function(u){return e(t,u,i)}):v(i)?g(function(u){return e(t,r,u)}):e(t,r,i)}}}const J=Array.isArray||function(n){return n!=null&&n.length>=0&&Object.prototype.toString.call(n)==="[object Array]"};function wr(e){return e!=null&&typeof e["@@transducer/step"]=="function"}function Vn(e,n,t){return function(){if(arguments.length===0)return t();var r=arguments[arguments.length-1];if(!J(r)){for(var i=0;i<e.length;){if(typeof r[e[i]]=="function")return r[e[i]].apply(r,Array.prototype.slice.call(arguments,0,-1));i+=1}if(wr(r)){var u=n.apply(null,Array.prototype.slice.call(arguments,0,-1));return u(r)}}return t.apply(this,arguments)}}const se={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};function nn(e){for(var n=[],t;!(t=e.next()).done;)n.push(t.value);return n}function tn(e,n,t){for(var r=0,i=t.length;r<i;){if(e(n,t[r]))return!0;r+=1}return!1}function Sr(e){var n=String(e).match(/^function (\w*)/);return n==null?"":n[1]}function Q(e,n){return Object.prototype.hasOwnProperty.call(n,e)}function _r(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}const _e=typeof Object.is=="function"?Object.is:_r;var rn=Object.prototype.toString,Ar=function(){return rn.call(arguments)==="[object Arguments]"?function(n){return rn.call(n)==="[object Arguments]"}:function(n){return Q("callee",n)}}();const Or=Ar;var Ir=!{toString:null}.propertyIsEnumerable("toString"),un=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],on=function(){return arguments.propertyIsEnumerable("length")}(),Er=function(n,t){for(var r=0;r<n.length;){if(n[r]===t)return!0;r+=1}return!1},Pr=g(typeof Object.keys=="function"&&!on?function(n){return Object(n)!==n?[]:Object.keys(n)}:function(n){if(Object(n)!==n)return[];var t,r,i=[],u=on&&Or(n);for(t in n)Q(t,n)&&(!u||t!=="length")&&(i[i.length]=t);if(Ir)for(r=un.length-1;r>=0;)t=un[r],Q(t,n)&&!Er(i,t)&&(i[i.length]=t),r-=1;return i});const N=Pr;var xr=g(function(n){return n===null?"Null":n===void 0?"Undefined":Object.prototype.toString.call(n).slice(8,-1)});const an=xr;function cn(e,n,t,r){var i=nn(e),u=nn(n);function o(a,c){return Ue(a,c,t.slice(),r.slice())}return!tn(function(a,c){return!tn(o,c,a)},u,i)}function Ue(e,n,t,r){if(_e(e,n))return!0;var i=an(e);if(i!==an(n))return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof n["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](n)&&typeof n["fantasy-land/equals"]=="function"&&n["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof n.equals=="function")return typeof e.equals=="function"&&e.equals(n)&&typeof n.equals=="function"&&n.equals(e);switch(i){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&Sr(e.constructor)==="Promise")return e===n;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof n&&_e(e.valueOf(),n.valueOf())))return!1;break;case"Date":if(!_e(e.valueOf(),n.valueOf()))return!1;break;case"Error":return e.name===n.name&&e.message===n.message;case"RegExp":if(!(e.source===n.source&&e.global===n.global&&e.ignoreCase===n.ignoreCase&&e.multiline===n.multiline&&e.sticky===n.sticky&&e.unicode===n.unicode))return!1;break}for(var u=t.length-1;u>=0;){if(t[u]===e)return r[u]===n;u-=1}switch(i){case"Map":return e.size!==n.size?!1:cn(e.entries(),n.entries(),t.concat([e]),r.concat([n]));case"Set":return e.size!==n.size?!1:cn(e.values(),n.values(),t.concat([e]),r.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=N(e);if(o.length!==N(n).length)return!1;var a=t.concat([e]),c=r.concat([n]);for(u=o.length-1;u>=0;){var s=o[u];if(!(Q(s,n)&&Ue(n[s],e[s],a,c)))return!1;u-=1}return!0}var jr=m(function(n,t){return Ue(n,t,[],[])});const je=jr;function $r(e,n,t){var r,i;if(typeof e.indexOf=="function")switch(typeof n){case"number":if(n===0){for(r=1/n;t<e.length;){if(i=e[t],i===0&&1/i===r)return t;t+=1}return-1}else if(n!==n){for(;t<e.length;){if(i=e[t],typeof i=="number"&&i!==i)return t;t+=1}return-1}return e.indexOf(n,t);case"string":case"boolean":case"function":case"undefined":return e.indexOf(n,t);case"object":if(n===null)return e.indexOf(n,t)}for(;t<e.length;){if(je(e[t],n))return t;t+=1}return-1}function $e(e,n){return $r(n,e,0)>=0}function ue(e,n){for(var t=0,r=n.length,i=Array(r);t<r;)i[t]=e(n[t]),t+=1;return i}function Ae(e){var n=e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+n.replace(/"/g,'\\"')+'"'}var K=function(n){return(n<10?"0":"")+n},Tr=typeof Date.prototype.toISOString=="function"?function(n){return n.toISOString()}:function(n){return n.getUTCFullYear()+"-"+K(n.getUTCMonth()+1)+"-"+K(n.getUTCDate())+"T"+K(n.getUTCHours())+":"+K(n.getUTCMinutes())+":"+K(n.getUTCSeconds())+"."+(n.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};const Mr=Tr;function Cr(e){return function(){return!e.apply(this,arguments)}}function pe(e,n,t){for(var r=0,i=t.length;r<i;)n=e(n,t[r]),r+=1;return n}function kr(e,n){for(var t=0,r=n.length,i=[];t<r;)e(n[t])&&(i[i.length]=n[t]),t+=1;return i}function Fr(e){return Object.prototype.toString.call(e)==="[object Object]"}var Rr=function(){function e(n,t){this.xf=t,this.f=n}return e.prototype["@@transducer/init"]=se.init,e.prototype["@@transducer/result"]=se.result,e.prototype["@@transducer/step"]=function(n,t){return this.f(t)?this.xf["@@transducer/step"](n,t):n},e}();function qr(e){return function(n){return new Rr(e,n)}}var zr=m(Vn(["fantasy-land/filter","filter"],qr,function(e,n){return Fr(n)?pe(function(t,r){return e(n[r])&&(t[r]=n[r]),t},{},N(n)):kr(e,n)}));const Br=zr;var Lr=m(function(n,t){return Br(Cr(n),t)});const Wn=Lr;function Dn(e,n){var t=function(o){var a=n.concat([e]);return $e(o,a)?"<Circular>":Dn(o,a)},r=function(u,o){return ue(function(a){return Ae(a)+": "+t(u[a])},o.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+ue(t,e).join(", ")+"))";case"[object Array]":return"["+ue(t,e).concat(r(e,Wn(function(u){return/^\d+$/.test(u)},N(e)))).join(", ")+"]";case"[object Boolean]":return typeof e=="object"?"new Boolean("+t(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?t(NaN):Ae(Mr(e)))+")";case"[object Map]":return"new Map("+t(Array.from(e))+")";case"[object Null]":return"null";case"[object Number]":return typeof e=="object"?"new Number("+t(e.valueOf())+")":1/e===-1/0?"-0":e.toString(10);case"[object Set]":return"new Set("+t(Array.from(e).sort())+")";case"[object String]":return typeof e=="object"?"new String("+t(e.valueOf())+")":Ae(e);case"[object Undefined]":return"undefined";default:if(typeof e.toString=="function"){var i=e.toString();if(i!=="[object Object]")return i}return"{"+r(e,N(e)).join(", ")+"}"}}var Ur=g(function(n){return Dn(n,[])});const Oe=Ur;var Nr=function(){function e(n,t){this.xf=t,this.f=n}return e.prototype["@@transducer/init"]=se.init,e.prototype["@@transducer/result"]=se.result,e.prototype["@@transducer/step"]=function(n,t){return this.xf["@@transducer/step"](n,this.f(t))},e}(),Vr=function(n){return function(t){return new Nr(n,t)}};const Wr=Vr;var Dr=m(Vn(["fantasy-land/map","map"],Wr,function(n,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return ce(t.length,function(){return n.call(this,t.apply(this,arguments))});case"[object Object]":return pe(function(r,i){return r[i]=n(t[i]),r},{},N(t));default:return ue(n,t)}}));const he=Dr;function Te(e){return Object.prototype.toString.call(e)==="[object String]"}var Gr=g(function(n){return J(n)?!0:!n||typeof n!="object"||Te(n)?!1:n.length===0?!0:n.length>0?n.hasOwnProperty(0)&&n.hasOwnProperty(n.length-1):!1});const Yr=Gr;var sn=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function Gn(e,n,t){return function(i,u,o){if(Yr(o))return e(i,u,o);if(o==null)return u;if(typeof o["fantasy-land/reduce"]=="function")return n(i,u,o,"fantasy-land/reduce");if(o[sn]!=null)return t(i,u,o[sn]());if(typeof o.next=="function")return t(i,u,o);if(typeof o.reduce=="function")return n(i,u,o,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function Hr(e,n,t){for(var r=0,i=t.length;r<i;){if(n=e["@@transducer/step"](n,t[r]),n&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r+=1}return e["@@transducer/result"](n)}var Kr=m(function(n,t){return q(n.length,function(){return n.apply(t,arguments)})});const Xr=Kr;function Zr(e,n,t){for(var r=t.next();!r.done;){if(n=e["@@transducer/step"](n,r.value),n&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r=t.next()}return e["@@transducer/result"](n)}function Jr(e,n,t,r){return e["@@transducer/result"](t[r](Xr(e["@@transducer/step"],e),n))}var Qr=Gn(Hr,Jr,Zr);const ei=Qr;var ni=function(){function e(n){this.f=n}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(n){return n},e.prototype["@@transducer/step"]=function(n,t){return this.f(n,t)},e}();function ti(e){return new ni(e)}var ri=de(function(e,n,t){return ei(typeof e=="function"?ti(e):e,n,t)});const ii=ri;function ui(e,n,t){for(var r=t.next();!r.done;)n=e(n,r.value),r=t.next();return n}function oi(e,n,t,r){return t[r](e,n)}var ai=Gn(pe,oi,ui);const ci=ai;var si=m(function(n,t){return typeof t["fantasy-land/ap"]=="function"?t["fantasy-land/ap"](n):typeof n.ap=="function"?n.ap(t):typeof n=="function"?function(r){return n(r)(t(r))}:ci(function(r,i){return Le(r,he(i,t))},[],n)});const fi=si;var li=m(function(n,t){return n.apply(this,t)});const di=li;var pi=g(function(n){return n==null});const hi=pi;var vi=m(function(n,t){switch(n){case 0:return function(){return t.call(this)};case 1:return function(r){return t.call(this,r)};case 2:return function(r,i){return t.call(this,r,i)};case 3:return function(r,i,u){return t.call(this,r,i,u)};case 4:return function(r,i,u,o){return t.call(this,r,i,u,o)};case 5:return function(r,i,u,o,a){return t.call(this,r,i,u,o,a)};case 6:return function(r,i,u,o,a,c){return t.call(this,r,i,u,o,a,c)};case 7:return function(r,i,u,o,a,c,s){return t.call(this,r,i,u,o,a,c,s)};case 8:return function(r,i,u,o,a,c,s,f){return t.call(this,r,i,u,o,a,c,s,f)};case 9:return function(r,i,u,o,a,c,s,f,d){return t.call(this,r,i,u,o,a,c,s,f,d)};case 10:return function(r,i,u,o,a,c,s,f,d,l){return t.call(this,r,i,u,o,a,c,s,f,d,l)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}});const yi=vi;function fn(e){var n=Object.prototype.toString.call(e);return n==="[object Function]"||n==="[object AsyncFunction]"||n==="[object GeneratorFunction]"||n==="[object AsyncGeneratorFunction]"}var mi=m(function(n,t){var r=ce(n,t);return ce(n,function(){return pe(fi,he(r,arguments[0]),Array.prototype.slice.call(arguments,1))})});const gi=mi;var bi=g(function(n){return gi(n.length,n)});const wi=bi;var Si=g(function(n){return!n});const _i=Si;var Ai=wi(_i);const Oi=Ai;function Ii(e,n){return function(){return n.call(this,e.apply(this,arguments))}}function Yn(e,n){return function(){var t=arguments.length;if(t===0)return n();var r=arguments[t-1];return J(r)||typeof r[e]!="function"?n.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,t-1))}}var Ei=de(Yn("slice",function(n,t,r){return Array.prototype.slice.call(r,n,t)}));const fe=Ei;var Pi=g(Yn("tail",fe(1,1/0)));const xi=Pi;function ve(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return q(arguments[0].length,ii(Ii,arguments[0],xi(arguments)))}function ji(e){return e}var $i=g(ji);const Ti=$i;var Mi=m(function(n,t){if(J(n)){if(J(t))return n.concat(t);throw new TypeError(Oe(t)+" is not an array")}if(Te(n)){if(Te(t))return n+t;throw new TypeError(Oe(t)+" is not a string")}if(n!=null&&fn(n["fantasy-land/concat"]))return n["fantasy-land/concat"](t);if(n!=null&&fn(n.concat))return n.concat(t);throw new TypeError(Oe(n)+' does not have a method named "concat" or "fantasy-land/concat"')});const Me=Mi;var Ci=function(){function e(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return e.prototype.add=function(n){return!ln(n,!0,this)},e.prototype.has=function(n){return ln(n,!1,this)},e}();function ln(e,n,t){var r=typeof e,i,u;switch(r){case"string":case"number":return e===0&&1/e===-1/0?t._items["-0"]?!0:(n&&(t._items["-0"]=!0),!1):t._nativeSet!==null?n?(i=t._nativeSet.size,t._nativeSet.add(e),u=t._nativeSet.size,u===i):t._nativeSet.has(e):r in t._items?e in t._items[r]?!0:(n&&(t._items[r][e]=!0),!1):(n&&(t._items[r]={},t._items[r][e]=!0),!1);case"boolean":if(r in t._items){var o=e?1:0;return t._items[r][o]?!0:(n&&(t._items[r][o]=!0),!1)}else return n&&(t._items[r]=e?[!1,!0]:[!0,!1]),!1;case"function":return t._nativeSet!==null?n?(i=t._nativeSet.size,t._nativeSet.add(e),u=t._nativeSet.size,u===i):t._nativeSet.has(e):r in t._items?$e(e,t._items[r])?!0:(n&&t._items[r].push(e),!1):(n&&(t._items[r]=[e]),!1);case"undefined":return t._items[r]?!0:(n&&(t._items[r]=!0),!1);case"object":if(e===null)return t._items.null?!0:(n&&(t._items.null=!0),!1);default:return r=Object.prototype.toString.call(e),r in t._items?$e(e,t._items[r])?!0:(n&&t._items[r].push(e),!1):(n&&(t._items[r]=[e]),!1)}}const Hn=Ci;var ki=m(function(n,t){for(var r=[],i=0,u=n.length,o=t.length,a=new Hn,c=0;c<o;c+=1)a.add(t[c]);for(;i<u;)a.add(n[i])&&(r[r.length]=n[i]),i+=1;return r});const re=ki;var Fi=de(function(n,t,r){var i=Array.prototype.slice.call(r,0);return i.splice(n,t),i});const Ri=Fi;var qi=de(function(n,t,r){return n=n<r.length&&n>=0?n:r.length,[].concat(Array.prototype.slice.call(r,0,n),t,Array.prototype.slice.call(r,n))});const zi=qi;var Bi=m(function(n,t){var r={};return q(t.length,function(){var i=n.apply(this,arguments);return Q(i,r)||(r[i]=t.apply(this,arguments)),r[i]})});const Li=Bi;var Ui=g(function(n){var t=!1,r;return q(n.length,function(){return t||(t=!0,r=n.apply(this,arguments)),r})});const Ni=Ui;function Vi(e){return m(function(n,t){return q(Math.max(0,n.length-t.length),function(){return n.apply(this,e(t,arguments))})})}var Wi=Vi(Le);const Di=Wi;var Gi=g(function(n){return yi(1,n)});const Yi=Gi;var Hi=m(function(n,t){for(var r=new Hn,i=0;i<n.length;i+=1)r.add(n[i]);return Wn(r.has.bind(r),t)});const Ki=Hi;var Xi=m(function(n,t){for(var r=[],i=0,u=Math.min(n.length,t.length);i<u;)r[i]=[n[i],t[i]],i+=1;return r});const Zi=Xi;function Ji(e){return pt()?(ht(e),!0):!1}function Qi(e){return typeof e=="function"?e():vt(e)}const eu=typeof window<"u"&&typeof document<"u";function Kn(e){vn()&&dt(e)}function Ce(e){var n;const t=Qi(e);return(n=t==null?void 0:t.$el)!=null?n:t}const nu=eu?window:void 0;function tu(){const e=X(!1);return vn()&&hn(()=>{e.value=!0}),e}function ru(e){const n=tu();return ke(()=>(n.value,!!e()))}function iu(e,n,t={}){const{window:r=nu,...i}=t;let u;const o=ru(()=>r&&"ResizeObserver"in r),a=()=>{u&&(u.disconnect(),u=void 0)},c=ke(()=>Array.isArray(e)?e.map(d=>Ce(d)):[Ce(e)]),s=pn(c,d=>{if(a(),o.value&&r){u=new ResizeObserver(n);for(const l of d)l&&u.observe(l,i)}},{immediate:!0,flush:"post",deep:!0}),f=()=>{a(),s()};return Ji(f),{isSupported:o,stop:f}}function B(e,n){return new w(t=>lt(()=>t.next(e[n])))}function dn(e,n){return Bn(cr(ve(Yi,Di(iu,[e]))),Ft).pipe(Ln(),R(t=>t[n]))}function uu(e){const n=new le;return hn(()=>{const t=Ce(e);if(t){const{vertical:r,horizontal:i}=Xn(t),u=(r===i?[r]:[r,i]).map(a=>a===document.documentElement?window:a),o=()=>n.next(t);u.forEach(a=>a.addEventListener("scroll",o,{passive:!0,capture:!0})),Kn(()=>u.forEach(a=>a.removeEventListener("scroll",o)))}}),n}function Ie(e){const n=X(),t=e.subscribe(r=>n.value=r);return Kn(()=>t.unsubscribe()),n}function Xn(e,n=!1){var c;const t=getComputedStyle(e);if(t.position==="fixed")return{vertical:document.body,horizontal:document.body};const r=t.position==="absolute",i=n?/(auto|scroll|hidden)/:/(auto|scroll)/;let u,o;for(let s=e;s=((c=s.assignedSlot)==null?void 0:c.parentElement)??s.parentElement;){const f=getComputedStyle(s);if(!(r&&f.position==="static")){if(!o&&i.test(f.overflowX)&&(o=s,u))return{vertical:u,horizontal:o};if(!u&&i.test(f.overflowY)&&(u=s,o))return{vertical:u,horizontal:o}}}const a=document.scrollingElement||document.documentElement;return{vertical:u??a,horizontal:o??a}}function ou(e){const{left:n,top:t}=e.getBoundingClientRect();return{width:Math.abs(Math.min(n,0)),height:Math.abs(Math.min(t,0))}}function au(e){const n=window.getComputedStyle(e);return{rowGap:parseInt(n.getPropertyValue("row-gap"))||0,colGap:parseInt(n.getPropertyValue("column-gap"))||0,flow:n.getPropertyValue("grid-auto-flow").startsWith("column")?"column":"row",columns:n.getPropertyValue("grid-template-columns").split(" ").length,rows:n.getPropertyValue("grid-template-rows").split(" ").length}}function cu(e,{height:n,width:t}){const{colGap:r,rowGap:i,flow:u,columns:o,rows:a}=au(e);return{colGap:r,rowGap:i,flow:u,columns:o,rows:a,itemHeightWithGap:n+i,itemWidthWithGap:t+r}}const su=(e=window.innerWidth,n=window.innerHeight)=>({width:t,height:r},{colGap:i,rowGap:u,flow:o,columns:a,rows:c,itemHeightWithGap:s,itemWidthWithGap:f})=>{let d,l,p,y,h;o==="row"?(d=a,l=u,p=s,y=n,h=r):(d=c,l=i,p=f,y=e,h=t);const S=(p&&Math.ceil((y+l)/p)+1)*d,T=(p&&Math.floor((h+l)/p))*d,z=Math.max(T-Math.floor(S/2),0),M=S*2;return{bufferedOffset:z,bufferedLength:M}};function fu({bufferedOffset:e,bufferedLength:n},t,r){const i=Math.floor(e/r),o=Math.ceil(Math.min(e+n,t)/r)-i;return lr(i,o)}function lu(e,n,t){return t(e,n).then(r=>({pageNumber:e,items:r}))}function du(e,[{pageNumber:n,items:t},r,i]){const u=new Array(Math.max(r-e.length,0)).fill(void 0),o=new Array(Math.max(i-t.length,0)).fill(void 0),a=Me(fe(0,i,t),o);return ve(Me(Un,u),Ri(n*i,i),zi(n*i,a),fe(0,r))(e)}function Zn(e,{flow:n,columns:t,rows:r,itemWidthWithGap:i,itemHeightWithGap:u}){let o,a;return n==="row"?(o=e%t*i,a=Math.floor(e/t)*u):(o=Math.floor(e/r)*i,a=e%r*u),{x:o,y:a}}function pu({bufferedOffset:e,bufferedLength:n},t,r){return ve(fe(e,e+n),br(he)((i,u)=>{const o=e+u,{x:a,y:c}=Zn(o,t);return{index:o,value:i,style:{gridArea:"1/1",transform:`translate(${a}px, ${c}px)`}}}))(r)}function hu(e,n){const t=re(n,e),r=re(e,n),i=new Map(Zi(r,t)),u=[...i.keys()],o=[...i.values()],a=re(r,u),c=re(t,o);return ve(Ki(a),he(s=>i.get(s)??s),Me(Un,c))(e)}function vu({colGap:e,rowGap:n,flow:t,columns:r,rows:i,itemWidthWithGap:u,itemHeightWithGap:o},a){return t==="row"?{height:o*Math.ceil(a/r)-n}:{width:u*Math.ceil(a/i)-e}}function yu({length$:e,pageProvider$:n,pageProviderDebounceTime$:t,pageSize$:r,itemRect$:i,rootResize$:u,scroll$:o,respectScrollToOnResize$:a,scrollTo$:c}){const s=sr(u,o).pipe(R(ou),be()),f=k([u,i],cu).pipe(be(je)),d=k([f,e],vu),l=c.pipe(fr(Oi(hi))),p=a.pipe(Se(E=>E?k([l,f,u]):l.pipe(yr(f,u))),R(([E,G,P])=>{const{vertical:Y,horizontal:Ne}=Xn(P),ee=getComputedStyle(P),Jn=parseInt(ee.getPropertyValue("padding-top")),Qn=parseInt(ee.getPropertyValue("border-top")),et=parseInt(ee.getPropertyValue("padding-left")),nt=parseInt(ee.getPropertyValue("border-left")),tt=P instanceof HTMLElement&&Ne instanceof HTMLElement?P.offsetLeft-Ne.offsetLeft:0,rt=P instanceof HTMLElement&&Y instanceof HTMLElement?P.offsetTop-Y.offsetTop:0,{x:it,y:ut}=Zn(E,G);return{target:Y,top:ut+rt+Jn+Qn,left:it+tt+et+nt}})),y=k([s,f],su()).pipe(be(je)),h=k([y,e,r]).pipe(R(di(fu))),I=t.pipe(Se(E=>h.pipe(E===0?Ti:pr(E)))),S=n.pipe(R(E=>Li((G,P)=>`${G},${P}`,E)),H(1)),C=k([I,r,S]).pipe(ae(([E,G,P])=>E.pipe(ae(Y=>lu(Y,G,P)))),H(1)),T=e.pipe(H(1)),z=r.pipe(H(1)),M=S.pipe(Se(()=>k([C,T,z])),en(du,[]),H(1));return{buffer$:k([y,f,M],pu).pipe(en(hu,[])),contentSize$:d,scrollAction$:p,allItems$:M}}const mu=ot({name:"Grid",props:{length:{type:Number,required:!0,validator:e=>Number.isInteger(e)&&e>=0},pageProvider:{type:Function,required:!0},pageProviderDebounceTime:{type:Number,required:!1,default:0,validator:e=>Number.isInteger(e)&&e>=0},pageSize:{type:Number,required:!0,validator:e=>Number.isInteger(e)&&e>=1},scrollTo:{type:Number,required:!1,validator:e=>Number.isInteger(e)&&e>=0},respectScrollToOnResize:{type:Boolean,required:!1,default:!0},scrollBehavior:{type:String,required:!1,default:"smooth",validator:e=>["smooth","auto"].includes(e)},tag:{type:String,required:!1,default:"div"},probeTag:{type:String,required:!1,default:"div"},getKey:{type:Function,required:!1,default:void 0}},setup(e,{expose:n}){const t=X(),r=X(),{buffer$:i,contentSize$:u,scrollAction$:o,allItems$:a}=yu({length$:B(e,"length"),pageProvider$:B(e,"pageProvider"),pageProviderDebounceTime$:B(e,"pageProviderDebounceTime"),pageSize$:B(e,"pageSize"),itemRect$:dn(r,"contentRect"),rootResize$:dn(t,"target"),scroll$:uu(t),respectScrollToOnResize$:B(e,"respectScrollToOnResize"),scrollTo$:B(e,"scrollTo")});at(Ni(()=>{o.subscribe(({target:l,top:p,left:y})=>{l.scrollTo({top:p,left:y,behavior:e.scrollBehavior})})}));const c=Ie(u),s=ke(()=>Object.fromEntries([...Object.entries(c.value??{}).map(([l,p])=>[l,p+"px"]),["placeContent","start"]])),f=X("");pn(()=>e.pageProvider,()=>f.value=String(new Date().getTime()),{immediate:!0});const d=Ie(a);return n({allItems:d}),{rootRef:t,probeRef:r,buffer:Ie(i),rootStyles:s,keyPrefix:f}}}),gu=(e,n)=>{const t=e.__vccOpts||e;for(const[r,i]of n)t[r]=i;return t};function bu(e,n,t,r,i,u){return ct((ne(),Ve(De(e.tag),{ref:"rootRef",style:me(e.rootStyles)},{default:We(()=>[(ne(),Ve(De(e.probeTag),{style:{opacity:0,visibility:"hidden",gridArea:"1/1",pointerEvents:"none",zIndex:-1,placeSelf:"stretch"},ref:"probeRef"},{default:We(()=>[ye(e.$slots,"probe")]),_:3},512)),(ne(!0),Ge(Ye,null,ft(e.buffer,o=>(ne(),Ge(Ye,{key:e.getKey?e.getKey(o):e.keyPrefix+"."+o.index},[o.value===void 0?ye(e.$slots,"placeholder",{key:0,index:o.index,style:me(o.style)}):ye(e.$slots,"default",{key:1,item:o.value,index:o.index,style:me(o.style)})],64))),128))]),_:3},8,["style"])),[[st,e.length>0]])}const Su=gu(mu,[["render",bu]]);export{Su as G};
