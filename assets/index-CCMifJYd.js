import{k as D,r as h,D as g,I as G,X as l,F as r,a5 as b,a7 as v,J as ge,c as R,a2 as Ce,u as y,$ as S,B as De,E as x,L as be,w as z,l as W,a8 as X,O as Me,a9 as Te,aa as Re,ab as $e,Y as Ue,ac as Ee}from"./@vue-CNCR8Vmv.js";import{e as q,f as je,g as ee,h as te,i as ae,j as I,k as J,l as xe,n as Fe,o as Q,p as F,u as Le,q as Ae,r as Ne,s as ze,t as Y,v as j,w as N,x as pe,y as ke,z as qe,A as Be,B as me,C as Qe,D as Ye}from"./vuetify-XWs5IHjS.js";import{m as E,a as ve,b as Ge,c as We,d as Je}from"./@mdi-DKC2W5MC.js";import{d as H,s as He}from"./pinia-CqnXpMGa.js";import{m as $}from"./protobufjs-CsVnrjGz.js";import{C as Ze,t as Ke,c as Xe}from"./opencc-js-D-mJJ3do.js";import"./typescript-CJCCHtUT.js";import{G as et}from"./vue-virtual-scroll-grid-DXBkyr0D.js";import"./@protobufjs-BBZf5C18.js";const tt="MTMzNTEwMzQ1NzY4MTczNTc2MC9LT0lwZ2FDc3RmRURnVHVqR2dEYmVYWWZSLUdZRjVQQ29veXZ0TFVGbFhFM0tYdGRGTzhHR3RrTXptWEp4R3FxQVI5bw==",nt={MyGO:{1:"https://www.youtube.com/watch?v=WOrYBIYIwyk",2:"https://www.youtube.com/watch?v=WOrYBIYIwyk",3:"https://www.youtube.com/watch?v=WOrYBIYIwyk",4:"https://www.youtube.com/watch?v=ijdspfPMzYc",5:"https://www.youtube.com/watch?v=zfA0zRAkAdk",6:"https://www.youtube.com/watch?v=UwgyEoB9vU8",7:"https://www.youtube.com/watch?v=rlY2b3TIYPs",8:"https://www.youtube.com/watch?v=mfboDpl88QY",9:"https://www.youtube.com/watch?v=ySjYENzyZmY",10:"https://www.youtube.com/watch?v=bLWDIYpGcEI",11:"https://www.youtube.com/watch?v=gAFDVnhX24o",12:"https://www.youtube.com/watch?v=wei3payuSi8",13:"https://www.youtube.com/watch?v=uQ3_PvPCNnI"},"Ave Mujica":{1:"https://www.youtube.com/watch?v=dxmmSFQxWzM",2:"https://www.youtube.com/watch?v=Bzl61esi4qc",3:"https://www.youtube.com/watch?v=HagaJboujK4",4:"https://www.youtube.com/watch?v=Z6cOxtDsfNU",5:"https://www.youtube.com/watch?v=7D2uGv7aprQ",6:"https://www.youtube.com/watch?v=jQraN1emvLQ",7:"https://www.youtube.com/watch?v=RONGNWb7OpQ",8:"https://www.youtube.com/watch?v=uh9jUhVTS28",9:"https://www.youtube.com/watch?v=pGrI6hk0vBg",10:"https://www.youtube.com/watch?v=m9cjOcCKIyQ",11:"https://www.youtube.com/watch?v=Cfm8TWGkvYQ"}},ne={webhook:tt,videoLink:nt},Ie=D({__name:"ReportDialog",props:{fileName:{type:String,required:!1,default:""},text:{type:String,required:!1,default:""}},setup(f){const o=f,n=h(""),e=h(""),t=h(!1),a=h(!1);async function p(){let u="";if(n.value&&(u+=`問題: ${n.value}
`),e.value&&(u+=`聯絡方式: ${e.value}
`),o.fileName&&(u+=`檔案名稱: ${o.fileName}
`),o.text&&(u+=`文字: ${o.text}
`),u){const d={content:u};await fetch(`https://discord.com/api/webhooks/${atob(ne.webhook)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),t.value=!0}a.value=!1}return(u,d)=>(g(),G(ge,null,[l(J,{modelValue:a.value,"onUpdate:modelValue":d[2]||(d[2]=i=>a.value=i),activator:"parent","max-width":"600px",style:{maxHeight:"90vh"},transition:"dialog-bottom-transition"},{default:r(()=>[l(q,null,{default:r(()=>[l(je,null,{default:r(()=>d[4]||(d[4]=[b("回報問題")])),_:1}),l(ee,null,{default:r(()=>[l(te,{label:"你遭遇到的問題(選填)",modelValue:n.value,"onUpdate:modelValue":d[0]||(d[0]=i=>n.value=i),outlined:""},null,8,["modelValue"]),l(te,{label:"你的聯絡方式(選填)",modelValue:e.value,"onUpdate:modelValue":d[1]||(d[1]=i=>e.value=i),outlined:""},null,8,["modelValue"])]),_:1}),l(ae,null,{default:r(()=>[l(I,{onClick:p},{default:r(()=>d[5]||(d[5]=[b("送出")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(xe,{modelValue:t.value,"onUpdate:modelValue":d[3]||(d[3]=i=>t.value=i),timeout:2e3,class:"text-center",rounded:"pill"},{default:r(()=>d[6]||(d[6]=[v("div",{class:"text-h6 mx-auto font-weight-bold text-center text-truncate"}," 已回報問題 ",-1)])),_:1},8,["modelValue"])],64))}}),_=$.Reader,ye=$.Writer,C=$.util,k=$.roots.default||($.roots.default={}),at=k.data=(()=>{const f={};return f.Info=function(){function o(n){if(n)for(let e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}return o.prototype.text="",o.prototype.season=0,o.prototype.episode=0,o.prototype.frameStart=0,o.prototype.framePrefer=0,o.prototype.frameEnd=0,o.prototype.segmentId=0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=ye.create()),e.text!=null&&Object.hasOwnProperty.call(e,"text")&&t.uint32(10).string(e.text),e.season!=null&&Object.hasOwnProperty.call(e,"season")&&t.uint32(16).int32(e.season),e.episode!=null&&Object.hasOwnProperty.call(e,"episode")&&t.uint32(24).int32(e.episode),e.frameStart!=null&&Object.hasOwnProperty.call(e,"frameStart")&&t.uint32(32).int32(e.frameStart),e.framePrefer!=null&&Object.hasOwnProperty.call(e,"framePrefer")&&t.uint32(40).int32(e.framePrefer),e.frameEnd!=null&&Object.hasOwnProperty.call(e,"frameEnd")&&t.uint32(48).int32(e.frameEnd),e.segmentId!=null&&Object.hasOwnProperty.call(e,"segmentId")&&t.uint32(56).int32(e.segmentId),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,t){e instanceof _||(e=_.create(e));let a=t===void 0?e.len:e.pos+t,p=new k.data.Info;for(;e.pos<a;){let u=e.uint32();switch(u>>>3){case 1:{p.text=e.string();break}case 2:{p.season=e.int32();break}case 3:{p.episode=e.int32();break}case 4:{p.frameStart=e.int32();break}case 5:{p.framePrefer=e.int32();break}case 6:{p.frameEnd=e.int32();break}case 7:{p.segmentId=e.int32();break}default:e.skipType(u&7);break}}return p},o.decodeDelimited=function(e){return e instanceof _||(e=new _(e)),this.decode(e,e.uint32())},o.verify=function(e){return typeof e!="object"||e===null?"object expected":e.text!=null&&e.hasOwnProperty("text")&&!C.isString(e.text)?"text: string expected":e.season!=null&&e.hasOwnProperty("season")&&!C.isInteger(e.season)?"season: integer expected":e.episode!=null&&e.hasOwnProperty("episode")&&!C.isInteger(e.episode)?"episode: integer expected":e.frameStart!=null&&e.hasOwnProperty("frameStart")&&!C.isInteger(e.frameStart)?"frameStart: integer expected":e.framePrefer!=null&&e.hasOwnProperty("framePrefer")&&!C.isInteger(e.framePrefer)?"framePrefer: integer expected":e.frameEnd!=null&&e.hasOwnProperty("frameEnd")&&!C.isInteger(e.frameEnd)?"frameEnd: integer expected":e.segmentId!=null&&e.hasOwnProperty("segmentId")&&!C.isInteger(e.segmentId)?"segmentId: integer expected":null},o.fromObject=function(e){if(e instanceof k.data.Info)return e;let t=new k.data.Info;return e.text!=null&&(t.text=String(e.text)),e.season!=null&&(t.season=e.season|0),e.episode!=null&&(t.episode=e.episode|0),e.frameStart!=null&&(t.frameStart=e.frameStart|0),e.framePrefer!=null&&(t.framePrefer=e.framePrefer|0),e.frameEnd!=null&&(t.frameEnd=e.frameEnd|0),e.segmentId!=null&&(t.segmentId=e.segmentId|0),t},o.toObject=function(e,t){t||(t={});let a={};return t.defaults&&(a.text="",a.season=0,a.episode=0,a.frameStart=0,a.framePrefer=0,a.frameEnd=0,a.segmentId=0),e.text!=null&&e.hasOwnProperty("text")&&(a.text=e.text),e.season!=null&&e.hasOwnProperty("season")&&(a.season=e.season),e.episode!=null&&e.hasOwnProperty("episode")&&(a.episode=e.episode),e.frameStart!=null&&e.hasOwnProperty("frameStart")&&(a.frameStart=e.frameStart),e.framePrefer!=null&&e.hasOwnProperty("framePrefer")&&(a.framePrefer=e.framePrefer),e.frameEnd!=null&&e.hasOwnProperty("frameEnd")&&(a.frameEnd=e.frameEnd),e.segmentId!=null&&e.hasOwnProperty("segmentId")&&(a.segmentId=e.segmentId),a},o.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},o.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/data.Info"},o}(),f.Data=function(){function o(n){if(this.info=[],n)for(let e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}return o.prototype.info=C.emptyArray,o.create=function(e){return new o(e)},o.encode=function(e,t){if(t||(t=ye.create()),e.info!=null&&e.info.length)for(let a=0;a<e.info.length;++a)k.data.Info.encode(e.info[a],t.uint32(10).fork()).ldelim();return t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,t){e instanceof _||(e=_.create(e));let a=t===void 0?e.len:e.pos+t,p=new k.data.Data;for(;e.pos<a;){let u=e.uint32();switch(u>>>3){case 1:{p.info&&p.info.length||(p.info=[]),p.info.push(k.data.Info.decode(e,e.uint32()));break}default:e.skipType(u&7);break}}return p},o.decodeDelimited=function(e){return e instanceof _||(e=new _(e)),this.decode(e,e.uint32())},o.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.info!=null&&e.hasOwnProperty("info")){if(!Array.isArray(e.info))return"info: array expected";for(let t=0;t<e.info.length;++t){let a=k.data.Info.verify(e.info[t]);if(a)return"info."+a}}return null},o.fromObject=function(e){if(e instanceof k.data.Data)return e;let t=new k.data.Data;if(e.info){if(!Array.isArray(e.info))throw TypeError(".data.Data.info: array expected");t.info=[];for(let a=0;a<e.info.length;++a){if(typeof e.info[a]!="object")throw TypeError(".data.Data.info: object expected");t.info[a]=k.data.Info.fromObject(e.info[a])}}return t},o.toObject=function(e,t){t||(t={});let a={};if((t.arrays||t.defaults)&&(a.info=[]),e.info&&e.info.length){a.info=[];for(let p=0;p<e.info.length;++p)a.info[p]=k.data.Info.toObject(e.info[p],t)}return a},o.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},o.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/data.Data"},o}(),f})(),ot={style:{position:"relative"},class:"size"},lt=["src","alt"],rt={style:{position:"relative"}},it={class:"text-h6 mx-auto font-weight-bold text-center text-truncate"},st="https://mypic.0m0.uk/images/",ut=D({__name:"CardComponent",props:{styles:{type:Object,required:!0},cardData:{type:Object,required:!0}},setup(f){const o=Oe(),n=f,e=n.cardData.text,t=n.cardData.season,a=n.cardData.episode,p=n.cardData.frameStart,u=n.cardData.framePrefer,d=t==2?"Ave Mujica":"MyGO",i=`${d} 第${a}話`,c=`${a}`,s=ne.videoLink[d][c],U=[0,0,34288,68333,0,0,0,0,0,0,0,0,0,0],M=Math.round((n.cardData.frameStart+(t==1?U[a]:0))/23.976),Pe=`${s}&t=${M}s`,re=p/23.976,ie=`${Math.floor(re/60)}:${("0"+Math.floor(re%60)).slice(-2)}`,L=R(()=>`${st}${t}/${a}/${u}.webp`),Z=h(!1),A=h(!1),T=h("連結複製成功");async function Se(){const w=await ce(),V=await(await fetch(w)).blob(),P=URL.createObjectURL(V),O=document.createElement("a");O.href=P,O.download=`${e}.png`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(P)}var se=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);let K=!1;const ue=async w=>{if(K&&!w){K=!1;return}if(w&&(K=!0,se)){T.value="因瀏覽器限制，不支援長按複製連結",A.value=!0;return}A.value=!1;const m=w||o.copyMode;try{m?await de():await _e()}catch(V){if(fe(V),se)T.value="複製失敗，請稍後重試，或切換為複製連結";else try{await de(),T.value="複製圖片失敗，已複製連結"}catch(P){console.error("Error during copy:",P.message),T.value="失敗 請按左下角回報手機型號/瀏覽器",fe(P)}}finally{A.value=!0}},de=async()=>{await navigator.clipboard.writeText(L.value),T.value="連結複製成功"},_e=async()=>{const w=new ClipboardItem({"image/png":(async()=>{const m=await ce();return await(await fetch(m)).blob()})()});await navigator.clipboard.write([w]),T.value="圖片複製成功"};var B="";async function ce(){if(B)return B;let w=new Image;w.src=L.value,w.crossOrigin="Anonymous",w.style.display="none",await new Promise(P=>{w.onload=P});let m=document.createElement("canvas"),V=m.getContext("2d")??new CanvasRenderingContext2D;return m.width=w.width,m.height=w.height,V.drawImage(w,0,0),B=m.toDataURL("image/png"),B}async function fe(w){const m={content:`Copy failed: ${w.name}

${navigator.userAgent}

${w.message}

${w.stack}`};try{await fetch(`https://discord.com/api/webhooks/${atob(ne.webhook)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})}catch(V){console.error("Failed to send error report to Discord:",V)}}return(w,m)=>{const V=Ie,P=Ce("long-press");return g(),G("div",{style:be(f.styles)},[l(q,{class:"card size",color:"surface-variant",rounded:"lg",variant:"tonal",onClick:m[0]||(m[0]=O=>Z.value=!0)},{default:r(()=>[v("div",ot,[v("img",{src:L.value,class:"size",alt:y(e)},null,8,lt),v("div",{style:{position:"absolute",top:"0",right:"0",background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"5px 5px"}},S(i)+" "+S(ie))]),l(ee,{class:"card-text text-center justify-center"},{default:r(()=>[b(S(y(e)),1)]),_:1})]),_:1}),l(J,{modelValue:Z.value,"onUpdate:modelValue":m[2]||(m[2]=O=>Z.value=O),"max-width":"600px",style:{maxHeight:"90vh"}},{default:r(()=>[l(q,null,{default:r(()=>[v("div",rt,[l(Fe,{src:L.value,style:{maxHeight:"70vh",objectFit:"contain"}},null,8,["src"]),v("div",{style:{position:"absolute",top:"0",right:"0",background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"5px 5px"}},S(i)+" "+S(ie))]),l(Q,null,{default:r(()=>[l(F,null,{default:r(()=>[l(ee,{class:"text-center"},{default:r(()=>[b(S(y(e)),1)]),_:1})]),_:1})]),_:1}),l(ae,null,{default:r(()=>[l(Q,null,{default:r(()=>[l(I,null,{default:r(()=>[m[4]||(m[4]=b(" 回報 ")),l(V,{fileName:L.value,text:y(e)},null,8,["fileName","text"])]),_:1}),l(I,{onClick:Se},{default:r(()=>m[5]||(m[5]=[b("下載")])),_:1}),De((g(),x(I,{onClick:m[1]||(m[1]=()=>ue(!1))},{default:r(()=>m[6]||(m[6]=[b("複製")])),_:1})),[[P,()=>ue(!0)]]),l(I,{href:Pe,target:"_blank"},{default:r(()=>m[7]||(m[7]=[b(" 從這裡開始看 ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(xe,{modelValue:A.value,"onUpdate:modelValue":m[3]||(m[3]=O=>A.value=O),timeout:2e3,class:"text-center",rounded:"pill"},{default:r(()=>[v("div",it,S(T.value),1)]),_:1},8,["modelValue"])],4)}}}),Ve=(f,o)=>{const n=f.__vccOpts||f;for(const[e,t]of o)n[e]=t;return n},dt=Ve(ut,[["__scopeId","data-v-8e87d9a7"]]);var ct=at.Data;const we=f=>f.toLowerCase().replace("你","妳").replace("啊","阿"),ft=()=>Ze(Xe,Ke),oe=H("Reverse",{state:()=>({reverse:!1})}),Oe=H("CopyMode",{state:()=>({copyMode:!1})}),le=H("Query",()=>{const f=h(""),o=h([]),n=h([]),e=h(0),t=()=>{const a=new URL(window.location.href);f.value===""?a.searchParams.delete("q"):a.searchParams.set("q",f.value);for(var p=0,u=1;u<14;u++)p|=+o.value.includes(u)<<u-1;for(var u=1;u<9;u++)p|=+n.value.includes(u)<<u+12;p==0?a.searchParams.delete("ep"):a.searchParams.set("ep",p.toString()),window.history.pushState({},"",a.toString())};return z(f,t),z(o,t),z(n,t),z(e,t),{query:f,mygoFilter:o,avemujicaFilter:n,characterFilter:e}}),pt=H("Data",()=>{const f=h([]),o=le(),n=oe();n.$subscribe(()=>{f.value.reverse()});const e=ft();var t=new Map;const a=R(()=>{if(f.value.length===0)return[];var u=f.value,d=new Set;if(o.mygoFilter.forEach(i=>{d.add(`1-${i}`)}),o.avemujicaFilter.forEach(i=>{d.add(`2-${i}`)}),d.size!==0){const i=n.reverse+Array.from(d).join("");t.has(i)?u=t.get(i)??[]:(u=f.value.filter(c=>d.has(`${c.season}-${c.episode}`)),t.set(i,u))}if(o.query==="")return u;{const i=e(we(o.query));return u.filter(c=>we(c.text).includes(i))}});return{cardsData:f,fetchData:async()=>{if(f.value.length===0){var u;try{var d=await(await fetch("/data/data.bin")).bytes();u=ct.decode(d).info}catch{u=[]}f.value=u,t.clear()}},filteredCards:a}}),mt={key:0,class:"ml-2 d-flex align-center"},vt=D({__name:"FooterComponent",setup(f){const o=Oe(),n=h(!0),e=R({get(){return a.global.current.value.dark},set(c){p(c)}}),t=R({get(){return o.copyMode},set(c){o.copyMode=c,localStorage.setItem("copyURLMode",c.toString())}}),a=Le();function p(c){a.global.name.value=c?"dark":"light",localStorage.setItem("darkTheme",a.global.name.value)}const u=()=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes("firefox"),d=()=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes("mobile"),i=()=>!(u()&&d());return W(()=>{n.value=i(),n.value?localStorage.getItem("copyURLMode")?o.copyMode=localStorage.getItem("copyURLMode")==="true":o.copyMode=!1:o.copyMode=!0,localStorage.getItem("darkTheme")?a.global.name.value=localStorage.getItem("darkTheme")??"dark":window.matchMedia("(prefers-color-scheme: light)").matches&&(a.global.name.value="light")}),(c,s)=>{const U=Ie;return g(),x(Ae,{app:""},{default:r(()=>[l(ke,{fluid:"",style:{padding:"5px"}},{default:r(()=>[l(Q,null,{default:r(()=>[l(F,null,{default:r(()=>[l(I,{variant:"text",size:"small",class:"text-center"},{default:r(()=>[s[7]||(s[7]=b(" 其他連結 ")),l(Ne,{activator:"parent",location:"center"},{default:r(()=>[l(ze,null,{default:r(()=>[l(Y,{icon:`mdiSvg:${y(E)}`},null,8,["icon"]),(g(),x(j,{key:0,target:"_blank",value:0,"append-icon":y(E),href:"https://github.com/NightFeather0615/Its-MyPic-Android"},{default:r(()=>[l(N,null,{default:r(()=>s[2]||(s[2]=[b("Its-MyPic for Android")])),_:1})]),_:1},8,["append-icon"])),(g(),x(j,{key:1,target:"_blank",value:1,"append-icon":y(E),href:"https://github.com/Its-MyPic/PowerToys-Run-Its-MyPic"},{default:r(()=>[l(N,null,{default:r(()=>s[3]||(s[3]=[b("PowerToys-Run Plugin")])),_:1})]),_:1},8,["append-icon"])),(g(),x(j,{key:2,target:"_blank",value:2,"append-icon":y(E),href:"https://github.com/Its-MyPic/krunner-Its-MyPic"},{default:r(()=>[l(N,null,{default:r(()=>s[4]||(s[4]=[b("Krunner Plugin")])),_:1})]),_:1},8,["append-icon"])),(g(),x(j,{key:3,target:"_blank",value:3,"append-icon":y(E),href:"https://github.com/Its-MyPic/Its-MyPic-vue"},{default:r(()=>[l(N,null,{default:r(()=>s[5]||(s[5]=[b("這個網頁的原始碼")])),_:1})]),_:1},8,["append-icon"])),(g(),x(j,{key:4,target:"_blank",value:4,"append-icon":y(E),href:"https://github.com/Its-MyPic/Its-MyPicDB"},{default:r(()=>[l(N,null,{default:r(()=>s[6]||(s[6]=[b("mygo系列的截圖資料")])),_:1})]),_:1},8,["append-icon"]))]),_:1})]),_:1})]),_:1}),l(I,{variant:"text",size:"small",class:"text-center"},{default:r(()=>[s[8]||(s[8]=b(" 回報問題 ")),l(U)]),_:1}),l(I,{variant:"text",size:"small",class:"text-center",href:"https://forms.gle/WzW9PZwUU6gqHZko7",target:"_blank"},{default:r(()=>s[9]||(s[9]=[b(" 投稿 ")])),_:1})]),_:1}),l(F,{cols:"1"},{default:r(()=>[l(I,{variant:"text",size:"small",density:"comfortable",icon:y(ve)},{default:r(()=>[l(Y,{icon:y(ve),"aria-label":"設定"},null,8,["icon"]),l(J,{activator:"parent","max-width":"600px",style:{maxHeight:"90vh",minHeight:"200px"}},{default:r(()=>[l(q,{class:"d-flex flex-column align-center justify-center font-weight-bold"},{default:r(()=>[s[14]||(s[14]=v("br",null,null,-1)),s[15]||(s[15]=v("span",{class:"ml-2 d-flex align-center"},"主題",-1)),l(F,{cols:"auto",class:"d-flex align-center"},{default:r(()=>[s[10]||(s[10]=v("span",{class:"mr-2 d-flex align-center"},"淺色",-1)),l(pe,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=M=>e.value=M),class:"mx-2 d-flex align-center"},null,8,["modelValue"]),s[11]||(s[11]=v("span",{class:"ml-2 d-flex align-center"},"深色",-1))]),_:1}),s[16]||(s[16]=v("br",null,null,-1)),s[17]||(s[17]=v("span",{class:"ml-2 d-flex align-center"},"偏好複製模式",-1)),l(F,{cols:"auto",class:"d-flex align-center"},{default:r(()=>[s[12]||(s[12]=v("span",{class:"mr-2 d-flex align-center"},"複製圖片",-1)),l(pe,{modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=M=>t.value=M),class:"mx-2 d-flex align-center",disabled:!n.value},null,8,["modelValue","disabled"]),s[13]||(s[13]=v("span",{class:"ml-2 d-flex align-center"},"複製連結",-1))]),_:1}),n.value?X("",!0):(g(),G("span",mt,"您的瀏覽器不支援複製圖片")),s[18]||(s[18]=v("br",null,null,-1))]),_:1})]),_:1})]),_:1},8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),yt=D({__name:"ResultGrid",setup(f){const o=oe(),n=pt();n.fetchData();const{filteredCards:e}=He(n);let t=h(4);const a=()=>{t.value=(1+Math.floor((window.innerWidth-320)/310))*8},p=R(()=>{typeof window<"u"&&window.scrollTo({top:0,left:0,behavior:"smooth"});const d=e.value;return o.reverse,(i,c)=>{const s=d.slice(i*c,(i+1)*c);return Promise.resolve(s)}}),u=d=>{var i;return(i=d.value)==null?void 0:i.segmentId};return W(()=>{a(),window.addEventListener("resize",a)}),Me(()=>{window.removeEventListener("resize",a)}),(d,i)=>(g(),x(Te,null,{default:r(()=>[l(y(et),{length:y(e).length?y(e).length:1,pageSize:y(t),pageProvider:p.value,"get-key":u,"page-provider-debounce-time":100,class:"grid ma-5"},{placeholder:r(({index:c,style:s})=>[v("div",{class:"item",style:be(s)},S(y(e).length?"還在GO...":""),5)]),default:r(({item:c,style:s,index:U})=>[l(dt,{styles:s,cardData:c},null,8,["styles","cardData"])]),_:1},8,["length","pageSize","pageProvider"])]),fallback:r(()=>i[0]||(i[0]=[v("p",null,"Loading...",-1)])),_:1}))}}),wt=Ve(yt,[["__scopeId","data-v-e1182e96"]]),he=D({__name:"MultiSelect",props:Re({items:{type:Array,required:!0},label:{type:String,required:!1,default:"Select"}},{modelValue:{type:Array,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(f){const o=f,n=$e(f,"modelValue"),e=R(()=>n.value.length===o.items.length),t=R(()=>n.value.length>0&&n.value.length<o.items.length),a=()=>{e.value?n.value=[]:n.value=[...o.items]};return z(n,()=>{n.value.sort()}),(p,u)=>(g(),x(Qe,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=d=>n.value=d),label:f.label,variant:"outlined",multiple:"",items:f.items,style:{"min-width":"250px"}},{"prepend-item":r(()=>[l(j,{title:"全選",onClick:a},{prepend:r(()=>[l(qe,{indeterminate:t.value,"model-value":e.value},null,8,["indeterminate","model-value"])]),_:1}),l(Be,{class:"mt-2"})]),selection:r(({item:d,index:i})=>[n.value.length!=f.items.length?(g(),x(me,{key:0},{default:r(()=>[v("span",null,S(d.value),1)]),_:2},1024)):X("",!0),i===f.items.length-1?(g(),x(me,{key:1},{default:r(()=>u[1]||(u[1]=[v("span",null,"全選",-1)])),_:1})):X("",!0)]),_:1},8,["modelValue","label","items"]))}}),ht=D({__name:"FilterDialog",setup(f){const o=le(),n=h(!1),e=h([]),t=h([]),a=h([]),p=()=>{t.value=[],a.value=[],e.value=[]},u=()=>{o.mygoFilter=t.value,o.avemujicaFilter=a.value,o.characterFilter=0,n.value=!1};return W(()=>{const i=new URLSearchParams(window.location.search).get("ep");if(i){for(var c=+i,s=0;c&&s<13;s++){const U=c&1;c=c>>1,U&&t.value.push(s+1)}for(var s=0;c&&s<13;s++){const M=c&1;c=c>>1,M&&a.value.push(s+1)}u()}}),(d,i)=>(g(),x(J,{modelValue:n.value,"onUpdate:modelValue":i[2]||(i[2]=c=>n.value=c),"max-width":"600px",style:{"min-height":"600px"},transition:"dialog-top-transition"},{activator:r(({props:c})=>[l(Y,Ue(c,{icon:y(Ge)}),null,16,["icon"])]),default:r(()=>[l(q,{class:"d-flex flex-column align-center justify-center font-weight-bold"},{default:r(()=>[i[3]||(i[3]=v("br",null,null,-1)),i[4]||(i[4]=v("br",null,null,-1)),i[5]||(i[5]=v("span",{class:"align-center"},"集數篩選",-1)),l(he,{items:Array.from({length:13},(c,s)=>s+1),modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=c=>t.value=c),label:"MyGO",style:{"min-width":"250px"}},null,8,["items","modelValue"]),l(he,{items:Array.from({length:11},(c,s)=>s+1),modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=c=>a.value=c),label:"Ave Mujica",style:{"min-width":"250px"}},null,8,["items","modelValue"]),l(ae,null,{default:r(()=>[l(I,{class:"text-center",text:"清除篩選",onClick:p}),l(I,{class:"text-center",text:"確定",onClick:u})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),gt=D({__name:"AppBarComponent",setup(f){const o=oe(),n=le(),e=h(),t=h(""),a=()=>{clearTimeout(e.value),e.value=setTimeout(p,500)},p=()=>{clearTimeout(e.value),n.query=t.value},u=()=>{t.value="",n.query=""};return W(()=>{const i=new URLSearchParams(window.location.search).get("q");i&&(t.value=i,n.query=i)}),(d,i)=>{const c=ht;return g(),x(Ye,{density:"prominent"},{default:r(()=>[l(ke,null,{default:r(()=>[i[2]||(i[2]=v("div",{class:"text-h5 mx-auto font-weight-bold text-center text-truncate"}," MyGO Mujica 截圖搜尋器 ",-1)),l(Q,{dense:"",class:"mt-2"},{default:r(()=>[l(F,{class:"text-center"},{default:r(()=>[l(te,{modelValue:t.value,"onUpdate:modelValue":i[1]||(i[1]=s=>t.value=s),"single-line":"","hide-details":"",clearable:"",label:"搜尋",variant:"outlined",class:"short-search",onKeyup:Ee(p,["enter"]),"onClick:clear":u,onInput:a,autofocus:""},{append:r(()=>[l(Y,{onClick:i[0]||(i[0]=s=>y(o).reverse=!y(o).reverse),icon:y(o).reverse?y(We):y(Je)},null,8,["icon"])]),"append-inner":r(()=>[l(c)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),Ct=D({__name:"index",setup(f){return(o,n)=>{const e=gt,t=wt,a=vt;return g(),G(ge,null,[l(e),l(t),l(a,{style:{width:"100%"}})],64)}}});export{Ct as default};
