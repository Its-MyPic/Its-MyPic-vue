import{k as or,y as ur,z as ar,A as Ve,B as te,C as We,D as Ge,E as De,F as ye,G as Ye,H as cr,I as me,r as X,J as sr,d as ke,w as pt,l as ht,K as dt,L as lr,M as fr,u as pr,g as hr,o as dr}from"./@vue-C8qaAxDv.js";var Pe=function(e,t){return Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Pe(e,t)};function A(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pe(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function vr(e,t,r,n){function i(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function a(l){try{s(n.next(l))}catch(p){u(p)}}function c(l){try{s(n.throw(l))}catch(p){u(p)}}function s(l){l.done?o(l.value):i(l.value).then(a,c)}s((n=n.apply(e,[])).next())})}function vt(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,u;return u={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function a(s){return function(l){return c([s,l])}}function c(s){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,s[0]&&(r=0)),r;)try{if(n=1,i&&(o=s[0]&2?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,i=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(s[0]===6&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(l){s=[6,l],i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function U(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function j(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],u;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){u={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return o}function x(e,t,r){if(arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function L(e){return this instanceof L?(this.v=e,this):new L(e)}function yr(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(f){n[f]&&(i[f]=function(h){return new Promise(function(y,d){o.push([f,h,y,d])>1||a(f,h)})})}function a(f,h){try{c(n[f](h))}catch(y){p(o[0][3],y)}}function c(f){f.value instanceof L?Promise.resolve(f.value.v).then(s,l):p(o[0][2],f)}function s(f){a("next",f)}function l(f){a("throw",f)}function p(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function mr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof U=="function"?U(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(u){return new Promise(function(a,c){u=e[o](u),i(a,c,u.done,u.value)})}}function i(o,u,a,c){Promise.resolve(c).then(function(s){o({value:s,done:a})},u)}}function b(e){return typeof e=="function"}function yt(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var ge=yt(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function ue(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var V=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,o;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var a=U(u),c=a.next();!c.done;c=a.next()){var s=c.value;s.remove(this)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}else u.remove(this);var l=this.initialTeardown;if(b(l))try{l()}catch(d){o=d instanceof ge?d.errors:[d]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var f=U(p),h=f.next();!h.done;h=f.next()){var y=h.value;try{He(y)}catch(d){o=o??[],d instanceof ge?o=x(x([],j(o)),j(d.errors)):o.push(d)}}}catch(d){n={error:d}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}if(o)throw new ge(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)He(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&ue(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&ue(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),mt=V.EMPTY;function gt(e){return e instanceof V||e&&"closed"in e&&b(e.remove)&&b(e.add)&&b(e.unsubscribe)}function He(e){b(e)?e():e.unsubscribe()}var gr={Promise:void 0},br={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,x([e,t],j(r)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function bt(e){br.setTimeout(function(){throw e})}function Ee(){}function ie(e){e()}var Fe=function(e){A(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,gt(r)&&r.add(n)):n.destination=_r,n}return t.create=function(r,n,i){return new Z(r,n,i)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(V),wr=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){re(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){re(n)}else re(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){re(r)}},e}(),Z=function(e){A(t,e);function t(r,n,i){var o=e.call(this)||this,u;return b(r)||!r?u={next:r??void 0,error:n??void 0,complete:i??void 0}:u=r,o.destination=new wr(u),o}return t}(Fe);function re(e){bt(e)}function Sr(e){throw e}var _r={closed:!0,next:Ee,error:Sr,complete:Ee},Re=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function W(e){return e}function Ar(e){return e.length===0?W:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}var w=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,o=Ir(t)?t:new Z(t,r,n);return ie(function(){var u=i,a=u.operator,c=u.source;o.add(a?a.call(o,c):c?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=Ke(r),new r(function(i,o){var u=new Z({next:function(a){try{t(a)}catch(c){o(c),u.unsubscribe()}},error:o,complete:i});n.subscribe(u)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[Re]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Ar(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=Ke(t),new t(function(n,i){var o;r.subscribe(function(u){return o=u},function(u){return i(u)},function(){return n(o)})})},e.create=function(t){return new e(t)},e}();function Ke(e){var t;return(t=e??gr.Promise)!==null&&t!==void 0?t:Promise}function Or(e){return e&&b(e.next)&&b(e.error)&&b(e.complete)}function Ir(e){return e&&e instanceof Fe||Or(e)&&gt(e)}function Pr(e){return b(e==null?void 0:e.lift)}function O(e){return function(t){if(Pr(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function _(e,t,r,n,i){return new Er(e,t,r,n,i)}var Er=function(e){A(t,e);function t(r,n,i,o,u,a){var c=e.call(this,r)||this;return c.onFinalize=u,c.shouldUnsubscribe=a,c._next=n?function(s){try{n(s)}catch(l){r.error(l)}}:e.prototype._next,c._error=o?function(s){try{o(s)}catch(l){r.error(l)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=i?function(){try{i()}catch(s){r.error(s)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(Fe),je={schedule:function(e){var t=requestAnimationFrame,r=cancelAnimationFrame,n=t(function(i){r=void 0,e(i)});return new V(function(){return r==null?void 0:r(n)})},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=je.delegate;return((r==null?void 0:r.requestAnimationFrame)||requestAnimationFrame).apply(void 0,x([],j(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return cancelAnimationFrame.apply(void 0,x([],j(e)))},delegate:void 0},jr=yt(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),fe=function(e){A(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new Xe(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new jr},t.prototype.next=function(r){var n=this;ie(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var u=U(n.currentObservers),a=u.next();!a.done;a=u.next()){var c=a.value;c.next(r)}}catch(s){i={error:s}}finally{try{a&&!a.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;ie(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;ie(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,o=i.hasError,u=i.isStopped,a=i.observers;return o||u?mt:(this.currentObservers=null,a.push(r),new V(function(){n.currentObservers=null,ue(a,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,u=n.isStopped;i?r.error(o):u&&r.complete()},t.prototype.asObservable=function(){var r=new w;return r.source=this,r},t.create=function(r,n){return new Xe(r,n)},t}(w),Xe=function(e){A(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:mt},t}(fe),ze={now:function(){return(ze.delegate||Date).now()},delegate:void 0},xr=function(e){A(t,e);function t(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=ze);var o=e.call(this)||this;return o._bufferSize=r,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,r),o._windowTime=Math.max(1,n),o}return t.prototype.next=function(r){var n=this,i=n.isStopped,o=n._buffer,u=n._infiniteTimeWindow,a=n._timestampProvider,c=n._windowTime;i||(o.push(r),!u&&o.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,o=i._infiniteTimeWindow,u=i._buffer,a=u.slice(),c=0;c<a.length&&!r.closed;c+=o?1:2)r.next(a[c]);return this._checkFinalizedStatuses(r),n},t.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,o=r._buffer,u=r._infiniteTimeWindow,a=(u?1:2)*n;if(n<1/0&&a<o.length&&o.splice(0,o.length-a),!u){for(var c=i.now(),s=0,l=1;l<o.length&&o[l]<=c;l+=2)s=l;s&&o.splice(0,s+1)}},t}(fe),$r=function(e){A(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return this},t}(V),Ze={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setInterval.apply(void 0,x([e,t],j(r)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},wt=function(e){A(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return t.prototype.schedule=function(r,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var o=this.id,u=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(u,o,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(u,this.id,n),this},t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),Ze.setInterval(r.flush.bind(r,this),i)},t.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Ze.clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var i=!1,o;try{this.work(r)}catch(u){i=!0,o=u||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,ue(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}($r),Je=function(){function e(t,r){r===void 0&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,t).schedule(n,r)},e.now=ze.now,e}(),St=function(e){A(t,e);function t(r,n){n===void 0&&(n=Je.now);var i=e.call(this,r,n)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},t}(Je),Tr=new St(wt),Mr=function(e){A(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=je.requestAnimationFrame(function(){return r.flush(void 0)})))},t.prototype.recycleAsyncId=function(r,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,i);var u=r.actions;n!=null&&((o=u[u.length-1])===null||o===void 0?void 0:o.id)!==n&&(je.cancelAnimationFrame(n),r._scheduled=void 0)},t}(wt),Cr=function(e){A(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,o;r=r||i.shift();do if(o=r.execute(r.state,r.delay))break;while((r=i[0])&&r.id===n&&i.shift());if(this._active=!1,o){for(;(r=i[0])&&r.id===n&&i.shift();)r.unsubscribe();throw o}},t}(St),kr=new Cr(Mr),_t=new w(function(e){return e.complete()});function Fr(e){return e&&b(e.schedule)}function qe(e){return e[e.length-1]}function At(e){return b(qe(e))?e.pop():void 0}function Ot(e){return Fr(qe(e))?e.pop():void 0}function Rr(e,t){return typeof qe(e)=="number"?e.pop():t}var It=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Pt(e){return b(e==null?void 0:e.then)}function Et(e){return b(e[Re])}function jt(e){return Symbol.asyncIterator&&b(e==null?void 0:e[Symbol.asyncIterator])}function xt(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function zr(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $t=zr();function Tt(e){return b(e==null?void 0:e[$t])}function Mt(e){return yr(this,arguments,function(){var r,n,i,o;return vt(this,function(u){switch(u.label){case 0:r=e.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,L(r.read())];case 3:return n=u.sent(),i=n.value,o=n.done,o?[4,L(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,L(i)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function Ct(e){return b(e==null?void 0:e.getReader)}function $(e){if(e instanceof w)return e;if(e!=null){if(Et(e))return qr(e);if(It(e))return Br(e);if(Pt(e))return Lr(e);if(jt(e))return kt(e);if(Tt(e))return Ur(e);if(Ct(e))return Nr(e)}throw xt(e)}function qr(e){return new w(function(t){var r=e[Re]();if(b(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Br(e){return new w(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function Lr(e){return new w(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,bt)})}function Ur(e){return new w(function(t){var r,n;try{for(var i=U(e),o=i.next();!o.done;o=i.next()){var u=o.value;if(t.next(u),t.closed)return}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()})}function kt(e){return new w(function(t){Vr(e,t).catch(function(r){return t.error(r)})})}function Nr(e){return kt(Mt(e))}function Vr(e,t){var r,n,i,o;return vr(this,void 0,void 0,function(){var u,a;return vt(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=mr(e),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(u=n.value,t.next(u),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function F(e,t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function Ft(e,t){return t===void 0&&(t=0),O(function(r,n){r.subscribe(_(n,function(i){return F(n,e,function(){return n.next(i)},t)},function(){return F(n,e,function(){return n.complete()},t)},function(i){return F(n,e,function(){return n.error(i)},t)}))})}function Rt(e,t){return t===void 0&&(t=0),O(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}function Wr(e,t){return $(e).pipe(Rt(t),Ft(t))}function Gr(e,t){return $(e).pipe(Rt(t),Ft(t))}function Dr(e,t){return new w(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}function Yr(e,t){return new w(function(r){var n;return F(r,t,function(){n=e[$t](),F(r,t,function(){var i,o,u;try{i=n.next(),o=i.value,u=i.done}catch(a){r.error(a);return}u?r.complete():r.next(o)},0,!0)}),function(){return b(n==null?void 0:n.return)&&n.return()}})}function zt(e,t){if(!e)throw new Error("Iterable cannot be null");return new w(function(r){F(r,t,function(){var n=e[Symbol.asyncIterator]();F(r,t,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function Hr(e,t){return zt(Mt(e),t)}function qt(e,t){if(e!=null){if(Et(e))return Wr(e,t);if(It(e))return Dr(e,t);if(Pt(e))return Gr(e,t);if(jt(e))return zt(e,t);if(Tt(e))return Yr(e,t);if(Ct(e))return Hr(e,t)}throw xt(e)}function Be(e,t){return t?qt(e,t):$(e)}function R(e,t){return O(function(r,n){var i=0;r.subscribe(_(n,function(o){n.next(e.call(t,o,i++))}))})}var Kr=Array.isArray;function Xr(e,t){return Kr(t)?e.apply(void 0,x([],j(t))):e(t)}function Zr(e){return R(function(t){return Xr(e,t)})}var Jr=Array.isArray,Qr=Object.getPrototypeOf,en=Object.prototype,tn=Object.keys;function rn(e){if(e.length===1){var t=e[0];if(Jr(t))return{args:t,keys:null};if(nn(t)){var r=tn(t);return{args:r.map(function(n){return t[n]}),keys:r}}}return{args:e,keys:null}}function nn(e){return e&&typeof e=="object"&&Qr(e)===en}function on(e,t){return e.reduce(function(r,n,i){return r[n]=t[i],r},{})}function k(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ot(e),n=At(e),i=rn(e),o=i.args,u=i.keys;if(o.length===0)return Be([],r);var a=new w(un(o,r,u?function(c){return on(u,c)}:W));return n?a.pipe(Zr(n)):a}function un(e,t,r){return r===void 0&&(r=W),function(n){Qe(t,function(){for(var i=e.length,o=new Array(i),u=i,a=i,c=function(l){Qe(t,function(){var p=Be(e[l],t),f=!1;p.subscribe(_(n,function(h){o[l]=h,f||(f=!0,a--),a||n.next(r(o.slice()))},function(){--u||n.complete()}))},n)},s=0;s<i;s++)c(s)},n)}}function Qe(e,t,r){e?F(r,e,t):t()}function an(e,t,r,n,i,o,u,a){var c=[],s=0,l=0,p=!1,f=function(){p&&!c.length&&!s&&t.complete()},h=function(d){return s<n?y(d):c.push(d)},y=function(d){s++;var I=!1;$(r(d,l++)).subscribe(_(t,function(S){t.next(S)},function(){I=!0},void 0,function(){if(I)try{s--;for(var S=function(){var C=c.shift();u||y(C)};c.length&&s<n;)S();f()}catch(C){t.error(C)}}))};return e.subscribe(_(t,h,function(){p=!0,f()})),function(){}}function ae(e,t,r){return r===void 0&&(r=1/0),b(t)?ae(function(n,i){return R(function(o,u){return t(n,o,i,u)})($(e(n,i)))},r):(typeof t=="number"&&(r=t),O(function(n,i){return an(n,i,e,r)}))}function Bt(e){return e===void 0&&(e=1/0),ae(W,e)}function cn(e,t,r){return new w(function(n){var i=function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];return n.next(u.length===1?u[0]:u)},o=e(i);return b(t)?function(){return t(i,o)}:void 0})}function sn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ot(e),n=Rr(e,1/0),i=e;return i.length?i.length===1?$(i[0]):Bt(n)(Be(i,r)):_t}function ln(e,t){return O(function(r,n){var i=0;r.subscribe(_(n,function(o){return e.call(t,o,i++)&&n.next(o)}))})}function fn(e,t,r){if(t==null&&(t=e,e=0),t<=0)return _t;var n=t+e;return new w(function(i){for(var o=e;o<n&&!i.closed;)i.next(o++);i.complete()})}function pn(e,t,r,n,i){return function(o,u){var a=r,c=t,s=0;o.subscribe(_(u,function(l){var p=s++;c=a?e(c,l,p):(a=!0,l),u.next(c)},i))}}function hn(e,t){return t===void 0&&(t=Tr),O(function(r,n){var i=null,o=null,u=null,a=function(){if(i){i.unsubscribe(),i=null;var s=o;o=null,n.next(s)}};function c(){var s=u+e,l=t.now();if(l<s){i=this.schedule(void 0,s-l),n.add(i);return}a()}r.subscribe(_(n,function(s){o=s,u=t.now(),i||(i=t.schedule(c,e),n.add(i))},function(){a(),n.complete()},void 0,function(){o=i=null}))})}function be(e,t){return t===void 0&&(t=W),e=e??dn,O(function(r,n){var i,o=!0;r.subscribe(_(n,function(u){var a=t(u);(o||!e(i,a))&&(o=!1,i=a,n.next(u))}))})}function dn(e,t){return e===t}function et(e,t){return O(pn(e,t,arguments.length>=2,!0))}function vn(e){e===void 0&&(e={});var t=e.connector,r=t===void 0?function(){return new fe}:t,n=e.resetOnError,i=n===void 0?!0:n,o=e.resetOnComplete,u=o===void 0?!0:o,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(s){var l,p,f,h=0,y=!1,d=!1,I=function(){p==null||p.unsubscribe(),p=void 0},S=function(){I(),l=f=void 0,y=d=!1},C=function(){var T=l;S(),T==null||T.unsubscribe()};return O(function(T,q){h++,!d&&!y&&I();var M=f=f??r();q.add(function(){h--,h===0&&!d&&!y&&(p=we(C,c))}),M.subscribe(q),!l&&h>0&&(l=new Z({next:function(G){return M.next(G)},error:function(G){d=!0,I(),p=we(S,i,G),M.error(G)},complete:function(){y=!0,I(),p=we(S,u),M.complete()}}),$(T).subscribe(l))})(s)}}function we(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(t===!0){e();return}if(t!==!1){var i=new Z({next:function(){i.unsubscribe(),e()}});return $(t.apply(void 0,x([],j(r)))).subscribe(i)}}function H(e,t,r){var n,i=!1;return n=e,vn({connector:function(){return new xr(n,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Se(e,t){return O(function(r,n){var i=null,o=0,u=!1,a=function(){return u&&!i&&n.complete()};r.subscribe(_(n,function(c){i==null||i.unsubscribe();var s=0,l=o++;$(e(c,l)).subscribe(i=_(n,function(p){return n.next(t?t(c,p,l,s++):p)},function(){i=null,a()}))},function(){u=!0,a()}))})}function yn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=At(e);return O(function(n,i){for(var o=e.length,u=new Array(o),a=e.map(function(){return!1}),c=!1,s=function(p){$(e[p]).subscribe(_(i,function(f){u[p]=f,!c&&!a[p]&&(a[p]=!0,(c=a.every(W))&&(a=null))},Ee))},l=0;l<o;l++)s(l);n.subscribe(_(i,function(p){if(c){var f=x([p],j(u));i.next(r?r.apply(void 0,x([],j(f))):f)}}))})}const Lt={"@@functional/placeholder":!0};function v(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function g(e){return function t(r){return arguments.length===0||v(r)?t:e.apply(this,arguments)}}function m(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return v(r)?t:g(function(i){return e(r,i)});default:return v(r)&&v(n)?t:v(r)?g(function(i){return e(i,n)}):v(n)?g(function(i){return e(r,i)}):e(r,n)}}}function Le(e,t){e=e||[],t=t||[];var r,n=e.length,i=t.length,o=[];for(r=0;r<n;)o[o.length]=e[r],r+=1;for(r=0;r<i;)o[o.length]=t[r],r+=1;return o}function z(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(r){return t.apply(this,arguments)};case 2:return function(r,n){return t.apply(this,arguments)};case 3:return function(r,n,i){return t.apply(this,arguments)};case 4:return function(r,n,i,o){return t.apply(this,arguments)};case 5:return function(r,n,i,o,u){return t.apply(this,arguments)};case 6:return function(r,n,i,o,u,a){return t.apply(this,arguments)};case 7:return function(r,n,i,o,u,a,c){return t.apply(this,arguments)};case 8:return function(r,n,i,o,u,a,c,s){return t.apply(this,arguments)};case 9:return function(r,n,i,o,u,a,c,s,l){return t.apply(this,arguments)};case 10:return function(r,n,i,o,u,a,c,s,l,p){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Ut(e,t,r){return function(){for(var n=[],i=0,o=e,u=0,a=!1;u<t.length||i<arguments.length;){var c;u<t.length&&(!v(t[u])||i>=arguments.length)?c=t[u]:(c=arguments[i],i+=1),n[u]=c,v(c)?a=!0:o-=1,u+=1}return!a&&o<=0?r.apply(this,n):z(Math.max(0,o),Ut(e,n,r))}}var mn=m(function(t,r){return t===1?g(r):z(t,Ut(t,[],r))});const ce=mn;var gn=g(function(t){return ce(t.length,function(){var r=0,n=arguments[0],i=arguments[arguments.length-1],o=Array.prototype.slice.call(arguments,0);return o[0]=function(){var u=n.apply(this,Le(arguments,[r,i]));return r+=1,u},t.apply(this,o)})});const bn=gn;function pe(e){return function t(r,n,i){switch(arguments.length){case 0:return t;case 1:return v(r)?t:m(function(o,u){return e(r,o,u)});case 2:return v(r)&&v(n)?t:v(r)?m(function(o,u){return e(o,n,u)}):v(n)?m(function(o,u){return e(r,o,u)}):g(function(o){return e(r,n,o)});default:return v(r)&&v(n)&&v(i)?t:v(r)&&v(n)?m(function(o,u){return e(o,u,i)}):v(r)&&v(i)?m(function(o,u){return e(o,n,u)}):v(n)&&v(i)?m(function(o,u){return e(r,o,u)}):v(r)?g(function(o){return e(o,n,i)}):v(n)?g(function(o){return e(r,o,i)}):v(i)?g(function(o){return e(r,n,o)}):e(r,n,i)}}}const J=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function wn(e){return e!=null&&typeof e["@@transducer/step"]=="function"}function Nt(e,t,r){return function(){if(arguments.length===0)return r();var n=arguments[arguments.length-1];if(!J(n)){for(var i=0;i<e.length;){if(typeof n[e[i]]=="function")return n[e[i]].apply(n,Array.prototype.slice.call(arguments,0,-1));i+=1}if(wn(n)){var o=t.apply(null,Array.prototype.slice.call(arguments,0,-1));return o(n)}}return r.apply(this,arguments)}}const se={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};function tt(e){for(var t=[],r;!(r=e.next()).done;)t.push(r.value);return t}function rt(e,t,r){for(var n=0,i=r.length;n<i;){if(e(t,r[n]))return!0;n+=1}return!1}function Sn(e){var t=String(e).match(/^function (\w*)/);return t==null?"":t[1]}function Q(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function _n(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}const _e=typeof Object.is=="function"?Object.is:_n;var nt=Object.prototype.toString,An=function(){return nt.call(arguments)==="[object Arguments]"?function(t){return nt.call(t)==="[object Arguments]"}:function(t){return Q("callee",t)}}();const On=An;var In=!{toString:null}.propertyIsEnumerable("toString"),it=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ot=function(){return arguments.propertyIsEnumerable("length")}(),Pn=function(t,r){for(var n=0;n<t.length;){if(t[n]===r)return!0;n+=1}return!1},En=g(typeof Object.keys=="function"&&!ot?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var r,n,i=[],o=ot&&On(t);for(r in t)Q(r,t)&&(!o||r!=="length")&&(i[i.length]=r);if(In)for(n=it.length-1;n>=0;)r=it[n],Q(r,t)&&!Pn(i,r)&&(i[i.length]=r),n-=1;return i});const N=En;var jn=g(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)});const ut=jn;function at(e,t,r,n){var i=tt(e),o=tt(t);function u(a,c){return Ue(a,c,r.slice(),n.slice())}return!rt(function(a,c){return!rt(u,c,a)},o,i)}function Ue(e,t,r,n){if(_e(e,t))return!0;var i=ut(e);if(i!==ut(t))return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof t["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t)&&typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof t.equals=="function")return typeof e.equals=="function"&&e.equals(t)&&typeof t.equals=="function"&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&Sn(e.constructor)==="Promise")return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&_e(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!_e(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1;break}for(var o=r.length-1;o>=0;){if(r[o]===e)return n[o]===t;o-=1}switch(i){case"Map":return e.size!==t.size?!1:at(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":return e.size!==t.size?!1:at(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var u=N(e);if(u.length!==N(t).length)return!1;var a=r.concat([e]),c=n.concat([t]);for(o=u.length-1;o>=0;){var s=u[o];if(!(Q(s,t)&&Ue(t[s],e[s],a,c)))return!1;o-=1}return!0}var xn=m(function(t,r){return Ue(t,r,[],[])});const xe=xn;function $n(e,t,r){var n,i;if(typeof e.indexOf=="function")switch(typeof t){case"number":if(t===0){for(n=1/t;r<e.length;){if(i=e[r],i===0&&1/i===n)return r;r+=1}return-1}else if(t!==t){for(;r<e.length;){if(i=e[r],typeof i=="number"&&i!==i)return r;r+=1}return-1}return e.indexOf(t,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,r);case"object":if(t===null)return e.indexOf(t,r)}for(;r<e.length;){if(xe(e[r],t))return r;r+=1}return-1}function $e(e,t){return $n(t,e,0)>=0}function oe(e,t){for(var r=0,n=t.length,i=Array(n);r<n;)i[r]=e(t[r]),r+=1;return i}function Ae(e){var t=e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+t.replace(/"/g,'\\"')+'"'}var K=function(t){return(t<10?"0":"")+t},Tn=typeof Date.prototype.toISOString=="function"?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+K(t.getUTCMonth()+1)+"-"+K(t.getUTCDate())+"T"+K(t.getUTCHours())+":"+K(t.getUTCMinutes())+":"+K(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};const Mn=Tn;function Cn(e){return function(){return!e.apply(this,arguments)}}function he(e,t,r){for(var n=0,i=r.length;n<i;)t=e(t,r[n]),n+=1;return t}function kn(e,t){for(var r=0,n=t.length,i=[];r<n;)e(t[r])&&(i[i.length]=t[r]),r+=1;return i}function Fn(e){return Object.prototype.toString.call(e)==="[object Object]"}var Rn=function(){function e(t,r){this.xf=r,this.f=t}return e.prototype["@@transducer/init"]=se.init,e.prototype["@@transducer/result"]=se.result,e.prototype["@@transducer/step"]=function(t,r){return this.f(r)?this.xf["@@transducer/step"](t,r):t},e}();function zn(e){return function(t){return new Rn(e,t)}}var qn=m(Nt(["fantasy-land/filter","filter"],zn,function(e,t){return Fn(t)?he(function(r,n){return e(t[n])&&(r[n]=t[n]),r},{},N(t)):kn(e,t)}));const Bn=qn;var Ln=m(function(t,r){return Bn(Cn(t),r)});const Vt=Ln;function Wt(e,t){var r=function(u){var a=t.concat([e]);return $e(u,a)?"<Circular>":Wt(u,a)},n=function(o,u){return oe(function(a){return Ae(a)+": "+r(o[a])},u.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+oe(r,e).join(", ")+"))";case"[object Array]":return"["+oe(r,e).concat(n(e,Vt(function(o){return/^\d+$/.test(o)},N(e)))).join(", ")+"]";case"[object Boolean]":return typeof e=="object"?"new Boolean("+r(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?r(NaN):Ae(Mn(e)))+")";case"[object Map]":return"new Map("+r(Array.from(e))+")";case"[object Null]":return"null";case"[object Number]":return typeof e=="object"?"new Number("+r(e.valueOf())+")":1/e===-1/0?"-0":e.toString(10);case"[object Set]":return"new Set("+r(Array.from(e).sort())+")";case"[object String]":return typeof e=="object"?"new String("+r(e.valueOf())+")":Ae(e);case"[object Undefined]":return"undefined";default:if(typeof e.toString=="function"){var i=e.toString();if(i!=="[object Object]")return i}return"{"+n(e,N(e)).join(", ")+"}"}}var Un=g(function(t){return Wt(t,[])});const Oe=Un;var Nn=function(){function e(t,r){this.xf=r,this.f=t}return e.prototype["@@transducer/init"]=se.init,e.prototype["@@transducer/result"]=se.result,e.prototype["@@transducer/step"]=function(t,r){return this.xf["@@transducer/step"](t,this.f(r))},e}(),Vn=function(t){return function(r){return new Nn(t,r)}};const Wn=Vn;var Gn=m(Nt(["fantasy-land/map","map"],Wn,function(t,r){switch(Object.prototype.toString.call(r)){case"[object Function]":return ce(r.length,function(){return t.call(this,r.apply(this,arguments))});case"[object Object]":return he(function(n,i){return n[i]=t(r[i]),n},{},N(r));default:return oe(t,r)}}));const de=Gn;function Te(e){return Object.prototype.toString.call(e)==="[object String]"}var Dn=g(function(t){return J(t)?!0:!t||typeof t!="object"||Te(t)?!1:t.length===0?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1});const Yn=Dn;var ct=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function Gt(e,t,r){return function(i,o,u){if(Yn(u))return e(i,o,u);if(u==null)return o;if(typeof u["fantasy-land/reduce"]=="function")return t(i,o,u,"fantasy-land/reduce");if(u[ct]!=null)return r(i,o,u[ct]());if(typeof u.next=="function")return r(i,o,u);if(typeof u.reduce=="function")return t(i,o,u,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function Hn(e,t,r){for(var n=0,i=r.length;n<i;){if(t=e["@@transducer/step"](t,r[n]),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}var Kn=m(function(t,r){return z(t.length,function(){return t.apply(r,arguments)})});const Xn=Kn;function Zn(e,t,r){for(var n=r.next();!n.done;){if(t=e["@@transducer/step"](t,n.value),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}function Jn(e,t,r,n){return e["@@transducer/result"](r[n](Xn(e["@@transducer/step"],e),t))}var Qn=Gt(Hn,Jn,Zn);const ei=Qn;var ti=function(){function e(t){this.f=t}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(t){return t},e.prototype["@@transducer/step"]=function(t,r){return this.f(t,r)},e}();function ri(e){return new ti(e)}var ni=pe(function(e,t,r){return ei(typeof e=="function"?ri(e):e,t,r)});const ii=ni;function oi(e,t,r){for(var n=r.next();!n.done;)t=e(t,n.value),n=r.next();return t}function ui(e,t,r,n){return r[n](e,t)}var ai=Gt(he,ui,oi);const ci=ai;var si=m(function(t,r){return typeof r["fantasy-land/ap"]=="function"?r["fantasy-land/ap"](t):typeof t.ap=="function"?t.ap(r):typeof t=="function"?function(n){return t(n)(r(n))}:ci(function(n,i){return Le(n,de(i,r))},[],t)});const li=si;var fi=m(function(t,r){return t.apply(this,r)});const pi=fi;var hi=g(function(t){return t==null});const di=hi;var vi=m(function(t,r){switch(t){case 0:return function(){return r.call(this)};case 1:return function(n){return r.call(this,n)};case 2:return function(n,i){return r.call(this,n,i)};case 3:return function(n,i,o){return r.call(this,n,i,o)};case 4:return function(n,i,o,u){return r.call(this,n,i,o,u)};case 5:return function(n,i,o,u,a){return r.call(this,n,i,o,u,a)};case 6:return function(n,i,o,u,a,c){return r.call(this,n,i,o,u,a,c)};case 7:return function(n,i,o,u,a,c,s){return r.call(this,n,i,o,u,a,c,s)};case 8:return function(n,i,o,u,a,c,s,l){return r.call(this,n,i,o,u,a,c,s,l)};case 9:return function(n,i,o,u,a,c,s,l,p){return r.call(this,n,i,o,u,a,c,s,l,p)};case 10:return function(n,i,o,u,a,c,s,l,p,f){return r.call(this,n,i,o,u,a,c,s,l,p,f)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}});const yi=vi;function st(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"}var mi=m(function(t,r){var n=ce(t,r);return ce(t,function(){return he(li,de(n,arguments[0]),Array.prototype.slice.call(arguments,1))})});const gi=mi;var bi=g(function(t){return gi(t.length,t)});const wi=bi;var Si=g(function(t){return!t});const _i=Si;var Ai=wi(_i);const Oi=Ai;function Ii(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function Dt(e,t){return function(){var r=arguments.length;if(r===0)return t();var n=arguments[r-1];return J(n)||typeof n[e]!="function"?t.apply(this,arguments):n[e].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var Pi=pe(Dt("slice",function(t,r,n){return Array.prototype.slice.call(n,t,r)}));const le=Pi;var Ei=g(Dt("tail",le(1,1/0)));const ji=Ei;function ve(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return z(arguments[0].length,ii(Ii,arguments[0],ji(arguments)))}function xi(e){return e}var $i=g(xi);const Ti=$i;var Mi=m(function(t,r){if(J(t)){if(J(r))return t.concat(r);throw new TypeError(Oe(r)+" is not an array")}if(Te(t)){if(Te(r))return t+r;throw new TypeError(Oe(r)+" is not a string")}if(t!=null&&st(t["fantasy-land/concat"]))return t["fantasy-land/concat"](r);if(t!=null&&st(t.concat))return t.concat(r);throw new TypeError(Oe(t)+' does not have a method named "concat" or "fantasy-land/concat"')});const Me=Mi;var Ci=function(){function e(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return e.prototype.add=function(t){return!lt(t,!0,this)},e.prototype.has=function(t){return lt(t,!1,this)},e}();function lt(e,t,r){var n=typeof e,i,o;switch(n){case"string":case"number":return e===0&&1/e===-1/0?r._items["-0"]?!0:(t&&(r._items["-0"]=!0),!1):r._nativeSet!==null?t?(i=r._nativeSet.size,r._nativeSet.add(e),o=r._nativeSet.size,o===i):r._nativeSet.has(e):n in r._items?e in r._items[n]?!0:(t&&(r._items[n][e]=!0),!1):(t&&(r._items[n]={},r._items[n][e]=!0),!1);case"boolean":if(n in r._items){var u=e?1:0;return r._items[n][u]?!0:(t&&(r._items[n][u]=!0),!1)}else return t&&(r._items[n]=e?[!1,!0]:[!0,!1]),!1;case"function":return r._nativeSet!==null?t?(i=r._nativeSet.size,r._nativeSet.add(e),o=r._nativeSet.size,o===i):r._nativeSet.has(e):n in r._items?$e(e,r._items[n])?!0:(t&&r._items[n].push(e),!1):(t&&(r._items[n]=[e]),!1);case"undefined":return r._items[n]?!0:(t&&(r._items[n]=!0),!1);case"object":if(e===null)return r._items.null?!0:(t&&(r._items.null=!0),!1);default:return n=Object.prototype.toString.call(e),n in r._items?$e(e,r._items[n])?!0:(t&&r._items[n].push(e),!1):(t&&(r._items[n]=[e]),!1)}}const Yt=Ci;var ki=m(function(t,r){for(var n=[],i=0,o=t.length,u=r.length,a=new Yt,c=0;c<u;c+=1)a.add(r[c]);for(;i<o;)a.add(t[i])&&(n[n.length]=t[i]),i+=1;return n});const ne=ki;var Fi=pe(function(t,r,n){var i=Array.prototype.slice.call(n,0);return i.splice(t,r),i});const Ri=Fi;var zi=pe(function(t,r,n){return t=t<n.length&&t>=0?t:n.length,[].concat(Array.prototype.slice.call(n,0,t),r,Array.prototype.slice.call(n,t))});const qi=zi;var Bi=m(function(t,r){var n={};return z(r.length,function(){var i=t.apply(this,arguments);return Q(i,n)||(n[i]=r.apply(this,arguments)),n[i]})});const Li=Bi;var Ui=g(function(t){var r=!1,n;return z(t.length,function(){return r||(r=!0,n=t.apply(this,arguments)),n})});const Ni=Ui;function Vi(e){return m(function(t,r){return z(Math.max(0,t.length-r.length),function(){return t.apply(this,e(r,arguments))})})}var Wi=Vi(Le);const Gi=Wi;var Di=g(function(t){return yi(1,t)});const Yi=Di;var Hi=m(function(t,r){for(var n=new Yt,i=0;i<t.length;i+=1)n.add(t[i]);return Vt(n.has.bind(n),r)});const Ki=Hi;var Xi=m(function(t,r){for(var n=[],i=0,o=Math.min(t.length,r.length);i<o;)n[i]=[t[i],r[i]],i+=1;return n});const Zi=Xi;function Ji(e){return hr()?(dr(e),!0):!1}function Qi(e){return typeof e=="function"?e():pr(e)}const eo=typeof window<"u"&&typeof document<"u";function Ht(e){dt()&&lr(e)}function Ce(e){var t;const r=Qi(e);return(t=r==null?void 0:r.$el)!=null?t:r}const to=eo?window:void 0;function ro(){const e=X(!1);return dt()&&ht(()=>{e.value=!0}),e}function no(e){const t=ro();return ke(()=>(t.value,!!e()))}function io(e,t,r={}){const{window:n=to,...i}=r;let o;const u=no(()=>n&&"ResizeObserver"in n),a=()=>{o&&(o.disconnect(),o=void 0)},c=ke(()=>Array.isArray(e)?e.map(p=>Ce(p)):[Ce(e)]),s=pt(c,p=>{if(a(),u.value&&n){o=new ResizeObserver(t);for(const f of p)f&&o.observe(f,i)}},{immediate:!0,flush:"post",deep:!0}),l=()=>{a(),s()};return Ji(l),{isSupported:u,stop:l}}function B(e,t){return new w(r=>fr(()=>r.next(e[t])))}function ft(e,t){return qt(cn(ve(Yi,Gi(io,[e]))),kr).pipe(Bt(),R(r=>r[t]))}function oo(e){const t=new fe;return ht(()=>{const r=Ce(e);if(r){const{vertical:n,horizontal:i}=Kt(r),o=(n===i?[n]:[n,i]).map(a=>a===document.documentElement?window:a),u=()=>t.next(r);o.forEach(a=>a.addEventListener("scroll",u,{passive:!0,capture:!0})),Ht(()=>o.forEach(a=>a.removeEventListener("scroll",u)))}}),t}function Ie(e){const t=X(),r=e.subscribe(n=>t.value=n);return Ht(()=>r.unsubscribe()),t}function Kt(e,t=!1){var c;const r=getComputedStyle(e);if(r.position==="fixed")return{vertical:document.body,horizontal:document.body};const n=r.position==="absolute",i=t?/(auto|scroll|hidden)/:/(auto|scroll)/;let o,u;for(let s=e;s=((c=s.assignedSlot)==null?void 0:c.parentElement)??s.parentElement;){const l=getComputedStyle(s);if(!(n&&l.position==="static")){if(!u&&i.test(l.overflowX)&&(u=s,o))return{vertical:o,horizontal:u};if(!o&&i.test(l.overflowY)&&(o=s,u))return{vertical:o,horizontal:u}}}const a=document.scrollingElement||document.documentElement;return{vertical:o??a,horizontal:u??a}}function uo(e){const{left:t,top:r}=e.getBoundingClientRect();return{width:Math.abs(Math.min(t,0)),height:Math.abs(Math.min(r,0))}}function ao(e){const t=window.getComputedStyle(e);return{rowGap:parseInt(t.getPropertyValue("row-gap"))||0,colGap:parseInt(t.getPropertyValue("column-gap"))||0,flow:t.getPropertyValue("grid-auto-flow").startsWith("column")?"column":"row",columns:t.getPropertyValue("grid-template-columns").split(" ").length,rows:t.getPropertyValue("grid-template-rows").split(" ").length}}function co(e,{height:t,width:r}){const{colGap:n,rowGap:i,flow:o,columns:u,rows:a}=ao(e);return{colGap:n,rowGap:i,flow:o,columns:u,rows:a,itemHeightWithGap:t+i,itemWidthWithGap:r+n}}const so=(e=window.innerWidth,t=window.innerHeight)=>({width:r,height:n},{colGap:i,rowGap:o,flow:u,columns:a,rows:c,itemHeightWithGap:s,itemWidthWithGap:l})=>{let p,f,h,y,d;u==="row"?(p=a,f=o,h=s,y=t,d=n):(p=c,f=i,h=l,y=e,d=r);const S=(h&&Math.ceil((y+f)/h)+1)*p,T=(h&&Math.floor((d+f)/h))*p,q=Math.max(T-Math.floor(S/2),0),M=S*2;return{bufferedOffset:q,bufferedLength:M}};function lo({bufferedOffset:e,bufferedLength:t},r,n){const i=Math.floor(e/n),u=Math.ceil(Math.min(e+t,r)/n)-i;return fn(i,u)}function fo(e,t,r){return r(e,t).then(n=>({pageNumber:e,items:n}))}function po(e,[{pageNumber:t,items:r},n,i]){const o=new Array(Math.max(n-e.length,0)).fill(void 0),u=new Array(Math.max(i-r.length,0)).fill(void 0),a=Me(le(0,i,r),u);return ve(Me(Lt,o),Ri(t*i,i),qi(t*i,a),le(0,n))(e)}function Xt(e,{flow:t,columns:r,rows:n,itemWidthWithGap:i,itemHeightWithGap:o}){let u,a;return t==="row"?(u=e%r*i,a=Math.floor(e/r)*o):(u=Math.floor(e/n)*i,a=e%n*o),{x:u,y:a}}function ho({bufferedOffset:e,bufferedLength:t},r,n){return ve(le(e,e+t),bn(de)((i,o)=>{const u=e+o,{x:a,y:c}=Xt(u,r);return{index:u,value:i,style:{gridArea:"1/1",transform:`translate(${a}px, ${c}px)`}}}))(n)}function vo(e,t){const r=ne(t,e),n=ne(e,t),i=new Map(Zi(n,r)),o=[...i.keys()],u=[...i.values()],a=ne(n,o),c=ne(r,u);return ve(Ki(a),de(s=>i.get(s)??s),Me(Lt,c))(e)}function yo({colGap:e,rowGap:t,flow:r,columns:n,rows:i,itemWidthWithGap:o,itemHeightWithGap:u},a){return r==="row"?{height:u*Math.ceil(a/n)-t}:{width:o*Math.ceil(a/i)-e}}function mo({length$:e,pageProvider$:t,pageProviderDebounceTime$:r,pageSize$:n,itemRect$:i,rootResize$:o,scroll$:u,respectScrollToOnResize$:a,scrollTo$:c}){const s=sn(o,u).pipe(R(uo),be()),l=k([o,i],co).pipe(be(xe)),p=k([l,e],yo),f=c.pipe(ln(Oi(di))),h=a.pipe(Se(P=>P?k([f,l,o]):f.pipe(yn(l,o))),R(([P,D,E])=>{const{vertical:Y,horizontal:Ne}=Kt(E),ee=getComputedStyle(E),Zt=parseInt(ee.getPropertyValue("padding-top")),Jt=parseInt(ee.getPropertyValue("border-top")),Qt=parseInt(ee.getPropertyValue("padding-left")),er=parseInt(ee.getPropertyValue("border-left")),tr=E instanceof HTMLElement&&Ne instanceof HTMLElement?E.offsetLeft-Ne.offsetLeft:0,rr=E instanceof HTMLElement&&Y instanceof HTMLElement?E.offsetTop-Y.offsetTop:0,{x:nr,y:ir}=Xt(P,D);return{target:Y,top:ir+rr+Zt+Jt,left:nr+tr+Qt+er}})),y=k([s,l],so()).pipe(be(xe)),d=k([y,e,n]).pipe(R(pi(lo))),I=r.pipe(Se(P=>d.pipe(P===0?Ti:hn(P)))),S=t.pipe(R(P=>Li((D,E)=>`${D},${E}`,P)),H(1)),C=k([I,n,S]).pipe(ae(([P,D,E])=>P.pipe(ae(Y=>fo(Y,D,E)))),H(1)),T=e.pipe(H(1)),q=n.pipe(H(1)),M=S.pipe(Se(()=>k([C,T,q])),et(po,[]),H(1));return{buffer$:k([y,l,M],ho).pipe(et(vo,[])),contentSize$:p,scrollAction$:h,allItems$:M}}const go=or({name:"Grid",props:{length:{type:Number,required:!0,validator:e=>Number.isInteger(e)&&e>=0},pageProvider:{type:Function,required:!0},pageProviderDebounceTime:{type:Number,required:!1,default:0,validator:e=>Number.isInteger(e)&&e>=0},pageSize:{type:Number,required:!0,validator:e=>Number.isInteger(e)&&e>=1},scrollTo:{type:Number,required:!1,validator:e=>Number.isInteger(e)&&e>=0},respectScrollToOnResize:{type:Boolean,required:!1,default:!0},scrollBehavior:{type:String,required:!1,default:"smooth",validator:e=>["smooth","auto"].includes(e)},tag:{type:String,required:!1,default:"div"},probeTag:{type:String,required:!1,default:"div"},getKey:{type:Function,required:!1,default:void 0}},setup(e,{expose:t}){const r=X(),n=X(),{buffer$:i,contentSize$:o,scrollAction$:u,allItems$:a}=mo({length$:B(e,"length"),pageProvider$:B(e,"pageProvider"),pageProviderDebounceTime$:B(e,"pageProviderDebounceTime"),pageSize$:B(e,"pageSize"),itemRect$:ft(n,"contentRect"),rootResize$:ft(r,"target"),scroll$:oo(r),respectScrollToOnResize$:B(e,"respectScrollToOnResize"),scrollTo$:B(e,"scrollTo")});sr(Ni(()=>{u.subscribe(({target:f,top:h,left:y})=>{f.scrollTo({top:h,left:y,behavior:e.scrollBehavior})})}));const c=Ie(o),s=ke(()=>Object.fromEntries([...Object.entries(c.value??{}).map(([f,h])=>[f,h+"px"]),["placeContent","start"]])),l=X("");pt(()=>e.pageProvider,()=>l.value=String(new Date().getTime()),{immediate:!0});const p=Ie(a);return t({allItems:p}),{rootRef:r,probeRef:n,buffer:Ie(i),rootStyles:s,keyPrefix:l}}}),bo=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r};function wo(e,t,r,n,i,o){return ur((te(),Ve(De(e.tag),{ref:"rootRef",style:me(e.rootStyles)},{default:We(()=>[(te(),Ve(De(e.probeTag),{style:{opacity:0,visibility:"hidden",gridArea:"1/1",pointerEvents:"none",zIndex:-1,placeSelf:"stretch"},ref:"probeRef"},{default:We(()=>[ye(e.$slots,"probe")]),_:3},512)),(te(!0),Ge(Ye,null,cr(e.buffer,u=>(te(),Ge(Ye,{key:e.getKey?e.getKey(u):e.keyPrefix+"."+u.index},[u.value===void 0?ye(e.$slots,"placeholder",{key:0,index:u.index,style:me(u.style)}):ye(e.$slots,"default",{key:1,item:u.value,index:u.index,style:me(u.style)})],64))),128))]),_:3},8,["style"])),[[ar,e.length>0]])}const _o=bo(go,[["render",wo]]);export{_o as G};
