import{_ as Z}from"./index-drQm3CyE.js";import{d as w,b as f,Q as v,U as T,m as e,R as a,V as m,W as R,F as U,O as _,u as y,X as P,Y as A,y as W,Z as Y,_ as G}from"./@vue-BIgptj0v.js";import{e as L,f as K,g as S,h as M,i as E,j as x,k as O,l as j,u as X,n as N,o as B,p as $,q as J,r as ee,s as Q,t as k,v as C,w as te,x as F,y as ae,z as le}from"./vuetify-ebjySmj3.js";import{m as b,a as ne}from"./@mdi-CH1eX7jq.js";import"./vue-router-DyzBllaw.js";const oe="MTMzNTEwMzQ1NzY4MTczNTc2MC9LT0lwZ2FDc3RmRURnVHVqR2dEYmVYWWZSLUdZRjVQQ29veXZ0TFVGbFhFM0tYdGRGTzhHR3RrTXptWEp4R3FxQVI5bw==",H={webhook:oe},q=w({__name:"ReportDialog",props:{fileName:{type:String,required:!1,default:""},text:{type:String,required:!1,default:""}},setup(p){const i=p,s=f(""),o=f(""),l=f(!1),d=f(!1);async function g(){let c="";if(s.value&&(c+=`問題: ${s.value}
`),o.value&&(c+=`聯絡方式: ${o.value}
`),i.fileName&&(c+=`檔案名稱: ${i.fileName}
`),i.text&&(c+=`文字: ${i.text}
`),c){const n={content:c};await fetch(`https://discord.com/api/webhooks/${atob(H.webhook)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),l.value=!0}d.value=!1}return(c,n)=>(v(),T(U,null,[e(O,{modelValue:d.value,"onUpdate:modelValue":n[2]||(n[2]=t=>d.value=t),activator:"parent","max-width":"600px",style:{maxHeight:"90vh"},transition:"dialog-bottom-transition"},{default:a(()=>[e(L,null,{default:a(()=>[e(K,null,{default:a(()=>n[4]||(n[4]=[m("回報問題")])),_:1}),e(S,null,{default:a(()=>[e(M,{label:"你遭遇到的問題(選填)",modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=t=>s.value=t),outlined:""},null,8,["modelValue"]),e(M,{label:"你的聯絡方式(選填)",modelValue:o.value,"onUpdate:modelValue":n[1]||(n[1]=t=>o.value=t),outlined:""},null,8,["modelValue"])]),_:1}),e(E,null,{default:a(()=>[e(x,{onClick:g},{default:a(()=>n[5]||(n[5]=[m("送出")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(j,{modelValue:l.value,"onUpdate:modelValue":n[3]||(n[3]=t=>l.value=t),timeout:2e3,class:"text-center",rounded:"pill"},{default:a(()=>n[6]||(n[6]=[R("div",{class:"text-h6 mx-auto font-weight-bold text-center text-truncate"}," 已回報問題 ",-1)])),_:1},8,["modelValue"])],64))}}),se=w({__name:"FooterComponent",setup(p){const i=X();function s(){i.global.name.value=i.global.current.value.dark?"light":"dark"}return(o,l)=>{const d=q;return v(),_(te,{app:""},{default:a(()=>[e(N,{fluid:""},{default:a(()=>[e(B,null,{default:a(()=>[e($,null,{default:a(()=>[e(x,{variant:"outlined",size:"small",class:"text-center"},{default:a(()=>[l[4]||(l[4]=m(" 其他連結 ")),e(J,{activator:"parent",location:"center"},{default:a(()=>[e(ee,null,{default:a(()=>[e(Q,{icon:`mdiSvg:${y(b)}`},null,8,["icon"]),(v(),_(k,{key:1,target:"_blank",value:1,"append-icon":y(b),href:"https://github.com/jeffpeng3/PowerToys-Run-Its-MyPic"},{default:a(()=>[e(C,null,{default:a(()=>l[0]||(l[0]=[m("PowerToys-Run Plugin")])),_:1})]),_:1},8,["append-icon"])),(v(),_(k,{key:2,target:"_blank",value:2,"append-icon":y(b),href:"https://github.com/jeffpeng3/krunner-Its-MyPic"},{default:a(()=>[e(C,null,{default:a(()=>l[1]||(l[1]=[m("Krunner Plugin")])),_:1})]),_:1},8,["append-icon"])),(v(),_(k,{key:3,target:"_blank",value:3,"append-icon":y(b),href:"https://github.com/jeffpeng3/Its-MyPic-vue"},{default:a(()=>[e(C,null,{default:a(()=>l[2]||(l[2]=[m("這個網頁的原始碼")])),_:1})]),_:1},8,["append-icon"])),(v(),_(k,{key:4,target:"_blank",value:4,"append-icon":y(b),href:"https://github.com/jeffpeng3/MyPicDB"},{default:a(()=>[e(C,null,{default:a(()=>l[3]||(l[3]=[m("mygo系列的截圖資料")])),_:1})]),_:1},8,["append-icon"]))]),_:1})]),_:1})]),_:1}),e(x,{variant:"outlined",size:"small",class:"text-center"},{default:a(()=>[l[5]||(l[5]=m(" 回報問題 ")),e(d)]),_:1}),e(x,{variant:"outlined",size:"small",class:"text-center",href:"https://forms.gle/WzW9PZwUU6gqHZko7",target:"_blank"},{default:a(()=>l[6]||(l[6]=[m(" 投稿 ")])),_:1})]),_:1}),e($,{cols:"1"},{default:a(()=>[e(Q,{size:"small",icon:y(ne),onClick:s},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),ue="https://mygodata.0m0.uk/images/",re=w({__name:"CardComponent",props:{episode:{type:String,required:!0},frame_start:{type:Number,required:!0},text:{type:String,required:!0}},setup(p){const i=p,s=f(`${ue}${i.episode}_${i.frame_start}.jpg`),o=f(!1),l=f(!1),d=f(!1);async function g(){const t=await(await fetch(s.value)).blob(),u=URL.createObjectURL(t),r=document.createElement("a");r.href=u,r.download=`${i.text}.jpg`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(u)}const c=async()=>{try{const n=new ClipboardItem({"image/png":(async()=>{let t=new Image;t.src=s.value,t.crossOrigin="Anonymous",t.style.display="none",await new Promise(I=>{t.onload=I});let u=document.createElement("canvas"),r=u.getContext("2d")??new CanvasRenderingContext2D;u.width=t.width,u.height=t.height,r.drawImage(t,0,0);const V=u.toDataURL("image/png");return await(await fetch(V)).blob()})()});await navigator.clipboard.write([n]),l.value=!0}catch(n){const t={content:`Copy failed:
 ${n.message}

${n.stack}`};fetch(`https://discord.com/api/webhooks/${atob(H.webhook)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),d.value=!0,console.log("Error: ",n.message)}};return(n,t)=>{const u=q;return v(),T(U,null,[e(L,{color:"surface-variant",rounded:"lg",variant:"tonal",onClick:t[0]||(t[0]=r=>o.value=!0)},{default:a(()=>[e(F,{src:s.value,cover:"",width:"280px"},null,8,["src"]),e(S,{class:"card-text text-center justify-center"},{default:a(()=>[m(P(p.text),1)]),_:1})]),_:1}),e(O,{modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=r=>o.value=r),"max-width":"600px",style:{maxHeight:"90vh"}},{default:a(()=>[e(L,null,{default:a(()=>[e(F,{src:s.value,style:{maxHeight:"70vh",objectFit:"contain"}},null,8,["src"]),e(E,null,{default:a(()=>[e(x,null,{default:a(()=>[t[4]||(t[4]=m(" 回報 ")),e(u,{fileName:s.value,text:p.text},null,8,["fileName","text"])]),_:1}),e(x,{onClick:g},{default:a(()=>t[5]||(t[5]=[m(" 下載 ")])),_:1}),e(x,{onClick:c},{default:a(()=>t[6]||(t[6]=[m("複製")])),_:1}),e(S,null,{default:a(()=>[m(P(p.text),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(j,{modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=r=>l.value=r),timeout:2e3,class:"text-center",rounded:"pill"},{default:a(()=>t[7]||(t[7]=[R("div",{class:"text-h6 mx-auto font-weight-bold text-center text-truncate"}," 複製成功 ",-1)])),_:1},8,["modelValue"]),e(j,{modelValue:d.value,"onUpdate:modelValue":t[3]||(t[3]=r=>d.value=r),timeout:2e3,class:"text-center",rounded:"pill"},{default:a(()=>t[8]||(t[8]=[R("div",{class:"text-h6 mx-auto font-weight-bold text-center text-truncate"}," 失敗 請按左下角回報手機型號/瀏覽器 ",-1)])),_:1},8,["modelValue"])],64)}}}),ie=(p,i)=>{const s=p.__vccOpts||p;for(const[o,l]of i)s[o]=l;return s},de=ie(re,[["__scopeId","data-v-10a76780"]]),ce=w({__name:"AppBarComponent",emits:["update:searchQuery"],setup(p,{emit:i}){const s=i,o=f(""),l=f(),d=()=>{clearTimeout(l.value),l.value=setTimeout(()=>s("update:searchQuery",o.value),500)},g=()=>{clearTimeout(l.value),s("update:searchQuery",o.value)},c=()=>{o.value="",window.scrollTo({top:0,left:0,behavior:"smooth"}),s("update:searchQuery",o.value)};return(n,t)=>(v(),_(ae,{density:"prominent"},{default:a(()=>[e(N,null,{default:a(()=>[t[1]||(t[1]=R("div",{class:"text-h5 mx-auto font-weight-bold text-center text-truncate"}," MyGO Mujica 截圖搜尋器 ",-1)),e($,{class:"text-center"},{default:a(()=>[e(M,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=u=>o.value=u),"single-line":"","hide-details":"",clearable:"",label:"搜尋",variant:"outlined",class:"short-search",onKeyup:A(g,["enter"]),"onClick:clear":c,onInput:d},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}))}}),z=20,me=w({__name:"MainView",setup(p){const i=()=>Z(()=>import("./data-DWSGMs4e.js"),[]),s=u=>{t(u)};let o=[];f("");const l=f([]),d=f(o);let g=0;const c=()=>{const u=g*z,r=u+z;l.value.push(...d.value.slice(u,r)),g++},n=()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight&&c()};W(()=>{i().then(u=>{o=u.default,d.value=o,c()}),window.addEventListener("scroll",n)}),Y(()=>{window.removeEventListener("scroll",n)});const t=u=>{if(u==="")d.value=o;else{const r=u.toLowerCase().replace("你","妳");d.value=o.filter(V=>V.text.toLowerCase().replace("你","妳").includes(r))}g=0,l.value=[],c()};return(u,r)=>{const V=ce,D=de,I=se;return v(),T(U,null,[e(V,{"onUpdate:searchQuery":s}),e(N,{class:"fill-height",fluid:""},{default:a(()=>[e(le,{class:"align-start fill-height mx-auto"},{default:a(()=>[e(B,{class:"text-center justify-center"},{default:a(()=>[(v(!0),T(U,null,G(l.value,(h,pe)=>(v(),_($,{key:h.segment_id,cols:"auto"},{default:a(()=>[e(D,{frame_start:h.frame_start,episode:h.episode,text:h.text},null,8,["frame_start","episode","text"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(I)],64)}}}),ye=w({__name:"index",setup(p){return(i,s)=>{const o=me;return v(),_(o)}}});export{ye as default};
