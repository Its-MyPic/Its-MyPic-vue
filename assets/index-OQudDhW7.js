import{_ as A}from"./index-iIbZkv4k.js";import{d as V,b as f,Q as v,U as R,m as e,R as a,V as c,W as U,F as $,O as _,u as w,X as F,Y as W,y as Y,Z as G,_ as K}from"./@vue-BIgptj0v.js";import{e as S,f as X,g as M,h as j,i as E,j as x,k as O,l as N,u as J,n as D,o as B,p as I,q as ee,r as te,s as P,t as k,v as T,w as ae,x as Q,y as le,z as ne}from"./vuetify-ebjySmj3.js";import{m as b,a as oe}from"./@mdi-CH1eX7jq.js";import{C as se,t as ue,c as re}from"./opencc-js-D-mJJ3do.js";import"./vue-router-DyzBllaw.js";const ie="MTMzNTEwMzQ1NzY4MTczNTc2MC9LT0lwZ2FDc3RmRURnVHVqR2dEYmVYWWZSLUdZRjVQQ29veXZ0TFVGbFhFM0tYdGRGTzhHR3RrTXptWEp4R3FxQVI5bw==",H={webhook:ie},q=V({__name:"ReportDialog",props:{fileName:{type:String,required:!1,default:""},text:{type:String,required:!1,default:""}},setup(m){const r=m,u=f(""),o=f(""),l=f(!1),i=f(!1);async function g(){let d="";if(u.value&&(d+=`問題: ${u.value}
`),o.value&&(d+=`聯絡方式: ${o.value}
`),r.fileName&&(d+=`檔案名稱: ${r.fileName}
`),r.text&&(d+=`文字: ${r.text}
`),d){const n={content:d};await fetch(`https://discord.com/api/webhooks/${atob(H.webhook)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),l.value=!0}i.value=!1}return(d,n)=>(v(),R($,null,[e(O,{modelValue:i.value,"onUpdate:modelValue":n[2]||(n[2]=t=>i.value=t),activator:"parent","max-width":"600px",style:{maxHeight:"90vh"},transition:"dialog-bottom-transition"},{default:a(()=>[e(S,null,{default:a(()=>[e(X,null,{default:a(()=>n[4]||(n[4]=[c("回報問題")])),_:1}),e(M,null,{default:a(()=>[e(j,{label:"你遭遇到的問題(選填)",modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=t=>u.value=t),outlined:""},null,8,["modelValue"]),e(j,{label:"你的聯絡方式(選填)",modelValue:o.value,"onUpdate:modelValue":n[1]||(n[1]=t=>o.value=t),outlined:""},null,8,["modelValue"])]),_:1}),e(E,null,{default:a(()=>[e(x,{onClick:g},{default:a(()=>n[5]||(n[5]=[c("送出")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(N,{modelValue:l.value,"onUpdate:modelValue":n[3]||(n[3]=t=>l.value=t),timeout:2e3,class:"text-center",rounded:"pill"},{default:a(()=>n[6]||(n[6]=[U("div",{class:"text-h6 mx-auto font-weight-bold text-center text-truncate"}," 已回報問題 ",-1)])),_:1},8,["modelValue"])],64))}}),de=V({__name:"FooterComponent",setup(m){const r=J();function u(){r.global.name.value=r.global.current.value.dark?"light":"dark"}return(o,l)=>{const i=q;return v(),_(ae,{app:""},{default:a(()=>[e(D,{fluid:""},{default:a(()=>[e(B,null,{default:a(()=>[e(I,null,{default:a(()=>[e(x,{variant:"outlined",size:"small",class:"text-center"},{default:a(()=>[l[4]||(l[4]=c(" 其他連結 ")),e(ee,{activator:"parent",location:"center"},{default:a(()=>[e(te,null,{default:a(()=>[e(P,{icon:`mdiSvg:${w(b)}`},null,8,["icon"]),(v(),_(k,{key:1,target:"_blank",value:1,"append-icon":w(b),href:"https://github.com/jeffpeng3/PowerToys-Run-Its-MyPic"},{default:a(()=>[e(T,null,{default:a(()=>l[0]||(l[0]=[c("PowerToys-Run Plugin")])),_:1})]),_:1},8,["append-icon"])),(v(),_(k,{key:2,target:"_blank",value:2,"append-icon":w(b),href:"https://github.com/jeffpeng3/krunner-Its-MyPic"},{default:a(()=>[e(T,null,{default:a(()=>l[1]||(l[1]=[c("Krunner Plugin")])),_:1})]),_:1},8,["append-icon"])),(v(),_(k,{key:3,target:"_blank",value:3,"append-icon":w(b),href:"https://github.com/jeffpeng3/Its-MyPic-vue"},{default:a(()=>[e(T,null,{default:a(()=>l[2]||(l[2]=[c("這個網頁的原始碼")])),_:1})]),_:1},8,["append-icon"])),(v(),_(k,{key:4,target:"_blank",value:4,"append-icon":w(b),href:"https://github.com/jeffpeng3/MyPicDB"},{default:a(()=>[e(T,null,{default:a(()=>l[3]||(l[3]=[c("mygo系列的截圖資料")])),_:1})]),_:1},8,["append-icon"]))]),_:1})]),_:1})]),_:1}),e(x,{variant:"outlined",size:"small",class:"text-center"},{default:a(()=>[l[5]||(l[5]=c(" 回報問題 ")),e(i)]),_:1}),e(x,{variant:"outlined",size:"small",class:"text-center",href:"https://forms.gle/WzW9PZwUU6gqHZko7",target:"_blank"},{default:a(()=>l[6]||(l[6]=[c(" 投稿 ")])),_:1})]),_:1}),e(I,{cols:"1"},{default:a(()=>[e(P,{size:"small",icon:w(oe),onClick:u},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),ce="https://mygodata.0m0.uk/images/",me=V({__name:"CardComponent",props:{episode:{type:String,required:!0},frame_start:{type:Number,required:!0},text:{type:String,required:!0}},setup(m){const r=m,u=f(`${ce}${r.episode}_${r.frame_start}.jpg`),o=f(!1),l=f(!1),i=f(!1);async function g(){const t=await(await fetch(u.value)).blob(),p=URL.createObjectURL(t),s=document.createElement("a");s.href=p,s.download=`${r.text}.jpg`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(p)}const d=async()=>{try{const n=new ClipboardItem({"image/png":(async()=>{let t=new Image;t.src=u.value,t.crossOrigin="Anonymous",t.style.display="none",await new Promise(L=>{t.onload=L});let p=document.createElement("canvas"),s=p.getContext("2d")??new CanvasRenderingContext2D;p.width=t.width,p.height=t.height,s.drawImage(t,0,0);const y=p.toDataURL("image/png");return await(await fetch(y)).blob()})()});await navigator.clipboard.write([n]),l.value=!0}catch(n){const t={content:`Copy failed:
 ${n.message}

${n.stack}`};fetch(`https://discord.com/api/webhooks/${atob(H.webhook)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),i.value=!0,console.log("Error: ",n.message)}};return(n,t)=>{const p=q;return v(),R($,null,[e(S,{color:"surface-variant",rounded:"lg",variant:"tonal",onClick:t[0]||(t[0]=s=>o.value=!0)},{default:a(()=>[e(Q,{src:u.value,cover:"",width:"280px"},null,8,["src"]),e(M,{class:"card-text text-center justify-center"},{default:a(()=>[c(F(m.text),1)]),_:1})]),_:1}),e(O,{modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=s=>o.value=s),"max-width":"600px",style:{maxHeight:"90vh"}},{default:a(()=>[e(S,null,{default:a(()=>[e(Q,{src:u.value,style:{maxHeight:"70vh",objectFit:"contain"}},null,8,["src"]),e(E,null,{default:a(()=>[e(x,null,{default:a(()=>[t[4]||(t[4]=c(" 回報 ")),e(p,{fileName:u.value,text:m.text},null,8,["fileName","text"])]),_:1}),e(x,{onClick:g},{default:a(()=>t[5]||(t[5]=[c(" 下載 ")])),_:1}),e(x,{onClick:d},{default:a(()=>t[6]||(t[6]=[c("複製")])),_:1}),e(M,null,{default:a(()=>[c(F(m.text),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(N,{modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=s=>l.value=s),timeout:2e3,class:"text-center",rounded:"pill"},{default:a(()=>t[7]||(t[7]=[U("div",{class:"text-h6 mx-auto font-weight-bold text-center text-truncate"}," 複製成功 ",-1)])),_:1},8,["modelValue"]),e(N,{modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=s=>i.value=s),timeout:2e3,class:"text-center",rounded:"pill"},{default:a(()=>t[8]||(t[8]=[U("div",{class:"text-h6 mx-auto font-weight-bold text-center text-truncate"}," 失敗 請按左下角回報手機型號/瀏覽器 ",-1)])),_:1},8,["modelValue"])],64)}}}),pe=(m,r)=>{const u=m.__vccOpts||m;for(const[o,l]of r)u[o]=l;return u},fe=pe(me,[["__scopeId","data-v-10a76780"]]),ve=V({__name:"AppBarComponent",emits:["update:searchQuery"],setup(m,{emit:r}){const u=r,o=f(""),l=f(),i=()=>{clearTimeout(l.value),l.value=setTimeout(()=>u("update:searchQuery",o.value),500)},g=()=>{clearTimeout(l.value),u("update:searchQuery",o.value)},d=()=>{o.value="",window.scrollTo({top:0,left:0,behavior:"smooth"}),u("update:searchQuery",o.value)};return(n,t)=>(v(),_(le,{density:"prominent"},{default:a(()=>[e(D,null,{default:a(()=>[t[1]||(t[1]=U("div",{class:"text-h5 mx-auto font-weight-bold text-center text-truncate"}," MyGO Mujica 截圖搜尋器 ",-1)),e(I,{class:"text-center"},{default:a(()=>[e(j,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=p=>o.value=p),"single-line":"","hide-details":"",clearable:"",label:"搜尋",variant:"outlined",class:"short-search",onKeyup:W(g,["enter"]),"onClick:clear":d,onInput:i},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}))}}),z=20,ge=V({__name:"MainView",setup(m){const r=()=>A(()=>import("./data-DWSGMs4e.js"),[]),u=s=>{p(s)};let o=[];f("");const l=f([]),i=f(o);let g=0;const d=()=>{const s=g*z,y=s+z;l.value.push(...i.value.slice(s,y)),g++},n=()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight&&d()};Y(()=>{r().then(s=>{o=s.default,i.value=o,d()}),window.addEventListener("scroll",n)}),G(()=>{window.removeEventListener("scroll",n)});const t=se(re,ue),p=s=>{if(s==="")i.value=o;else{const y=t(s.toLowerCase().replace("你","妳"));i.value=o.filter(h=>h.text.toLowerCase().replace("你","妳").includes(y))}g=0,l.value=[],d()};return(s,y)=>{const h=ve,L=fe,Z=de;return v(),R($,null,[e(h,{"onUpdate:searchQuery":u}),e(D,{class:"fill-height",fluid:""},{default:a(()=>[e(ne,{class:"align-start fill-height mx-auto"},{default:a(()=>[e(B,{class:"text-center justify-center"},{default:a(()=>[(v(!0),R($,null,K(l.value,(C,_e)=>(v(),_(I,{key:C.segment_id,cols:"auto"},{default:a(()=>[e(L,{frame_start:C.frame_start,episode:C.episode,text:C.text},null,8,["frame_start","episode","text"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(Z)],64)}}}),Ce=V({__name:"index",setup(m){return(r,u)=>{const o=ge;return v(),_(o)}}});export{Ce as default};
